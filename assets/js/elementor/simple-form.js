import{Constants}from"../front/Constants.js";class SimpleForm extends elementorModules.frontend.handlers.Base{onInit(){super.onInit(),this.authformContainer=jQuery("#rgbcode-authform"),this.signUp=jQuery("#rgbcode-signup"),this.isNotExistAuthform=!this.authformContainer.length||!this.signUp.length,this.checkStateSubmit()}checkStateSubmit(){this.isNotExistAuthform?this.pandaSubmitActive():this.submitActive()}submitActive(){this.elements.$submit.prop("disabled",!1)}pandaSubmitActive(){const t=setInterval((()=>{window.runPlugin&&(this.submitActive(),clearInterval(t))}),1500)}getDefaultSettings(){return{selectors:{form:".rgbcode-simple-form",firstname:".rgbcode-simple-form__input[name=firstname]",lastname:".rgbcode-simple-form__input[name=lastname]",submit:".rgbcode-simple-form__btn"}}}getDefaultElements(){const t=this.getSettings("selectors");return{$form:this.$element.find(t.form),$firstname:this.$element.find(t.firstname),$lastname:this.$element.find(t.lastname),$submit:this.$element.find(t.submit)}}bindEvents(){this.elements.$form.on("submit",this.openSignup.bind(this))}openSignup(t){t.preventDefault(),this.isNotExistAuthform?this.showPandaForm():this.showAuthform()}showPandaForm(){if(!window.runPlugin)return;runPlugin("forexSignup");const t=setInterval((()=>{const e=jQuery("signup-long");if(e.length){const n=e.find("input[name=firstName]"),s=e.find("input[name=lastName]");this.changeValueInExternalForm(n,s),clearInterval(t)}}),500)}showAuthform(){const t=this.signUp.find("input[name=firstname]"),e=this.signUp.find("input[name=lastname]");this.authformContainer.removeClass(Constants.hideClass),this.signUp.removeClass(Constants.hideClass),this.changeValueInExternalForm(t,e)}changeValueInExternalForm(t,e){t.val(this.elements.$firstname.val()),e.val(this.elements.$lastname.val()),t[0].dispatchEvent(new Event("input")),e[0].dispatchEvent(new Event("input"))}}jQuery(window).on("elementor/frontend/init",(()=>{elementorFrontend.hooks.addAction("frontend/element_ready/rgbc-simple-form.default",(t=>{elementorFrontend.elementsHandler.addHandler(SimpleForm,{$element:t})}))}));