!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t,i){"use strict";function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function n(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.r(t),i.d(t,"Constants",(function(){return r}));var r=n((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));a(r,"hideClass","rgbcode-hidden"),a(r,"validClass","rgbcode-valid"),a(r,"invalidClass","rgbcode-invalid"),a(r,"storage",{})},function(e,t,i){e.exports=function(){"use strict";var e={d:function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return B}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},s={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?t.querySelector(e):e}function a(){let{tagName:e="div",className:t="",innerHtml:i="",id:s="",attrs:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=document.createElement(e);return t&&a.classList.add(...t.split(" ")),s&&(a.id=s),i&&(a.innerHTML=i),n&&r(a,n),a}function r(e,t){for(let[i,s]of Object.entries(t))void 0!==s&&e.setAttribute(i,s);return e}function o(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function l(e){let t=e.getHours(),{hours:i,dayPeriod:s}=h(t);return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:t,fullHours:c(t),hours12:i,dayPeriod:s,fullHours12:c(i),minutes:e.getMinutes(),fullMinutes:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}}function h(e){return{dayPeriod:e>11?"pm":"am",hours:e%12==0?12:e%12}}function c(e){return e<10?"0"+e:e}function u(e){let t=10*Math.floor(e.getFullYear()/10);return[t,t+9]}function d(){let e=[];for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return i.forEach(t=>{if("object"==typeof t)for(let i in t)t[i]&&e.push(i);else t&&e.push(t)}),e.join(" ")}function p(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.days;if(!e||!t)return!1;let n=l(e),a=l(t),r={[i.days]:n.date===a.date&&n.month===a.month&&n.year===a.year,[i.months]:n.month===a.month&&n.year===a.year,[i.years]:n.year===a.year};return r[s]}function f(e,t,i){let s=v(e,!1).getTime(),n=v(t,!1).getTime();return i?s>=n:s>n}function m(e,t){return!f(e,t,!0)}function v(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new Date(e.getTime());return"boolean"!=typeof t||t||y(i),i}function y(e){return e.setHours(0,0,0,0),e}function g(e,t,i){e.length?e.forEach(e=>{e.addEventListener(t,i)}):e.addEventListener(t,i)}function b(e,t){return!(!e||e===document||e instanceof DocumentFragment)&&(e.matches(t)?e:b(e.parentNode,t))}function w(e,t,i){return e>i?i:e<t?t:e}function D(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return i.filter(e=>e).forEach(t=>{for(let[i,s]of Object.entries(t))if(void 0!==s&&"[object Object]"===s.toString()){let t=void 0!==e[i]?e[i].toString():void 0,n=s.toString(),a=Array.isArray(s)?[]:{};e[i]=e[i]?t!==n?a:e[i]:a,D(e[i],s)}else e[i]=s}),e}function k(e){let t=e;return e instanceof Date||(t=new Date(e)),isNaN(t.getTime())&&(console.log(`Unable to convert value "${e}" to Date object`),t=!1),t}function C(e){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+e+")($|<|"+t+")","g")}function _(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class S{constructor(){let{type:e,date:t,dp:i,opts:s,body:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),_(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),_(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),_(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),_(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),_(this,"onChangeFocusDate",e=>{if(!e)return void(this.focused&&this.removeFocus());let t=p(e,this.date,this.type);t?this.focus():!t&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),_(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=e,this.singleType=this.type.slice(0,-1),this.date=t,this.dp=i,this.opts=s,this.body=n,this.customData=!1,this.init()}init(){let{range:e,onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),e&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:t,month:i,date:s}=l(this.date),n=(null===(e=this.customData)||void 0===e?void 0:e.attrs)||{};this.$cell=a({className:this._getClassName(),attrs:{"data-year":t,"data-month":i,"data-date":s,...n}})}_getClassName(){var e,t;let s=new Date,{selectOtherMonths:n,selectOtherYears:a}=this.opts,{minDate:r,maxDate:o}=this.dp,{day:h}=l(this.date),c=this._isOutOfMinMaxRange(),u=null===(e=this.customData)||void 0===e?void 0:e.disabled,f=d("air-datepicker-cell",`-${this.singleType}-`,{"-current-":p(s,this.date,this.type),"-min-date-":r&&p(r,this.date,this.type),"-max-date-":o&&p(o,this.date,this.type)}),m="";switch(this.type){case i.days:m=d({"-weekend-":this.dp.isWeekend(h),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!n||c||u});break;case i.months:m=d({"-disabled-":c||u});break;case i.years:m=d({"-other-decade-":this.isOtherDecade,"-disabled-":c||this.isOtherDecade&&!a||u})}return d(f,m,null===(t=this.customData)||void 0===t?void 0:t.classes)}_getHtml(){var e;let{year:t,month:s,date:n}=l(this.date),{showOtherMonths:a,showOtherYears:r}=this.opts;if(null!==(e=this.customData)&&void 0!==e&&e.html)return this.customData.html;switch(this.type){case i.days:return!a&&this.isOtherMonth?"":n;case i.months:return this.dp.locale[this.opts.monthsField][s];case i.years:return!r&&this.isOtherDecade?"":t}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:t}=this.dp,{type:s,date:n}=this,{month:a,year:r,date:o}=l(n),h=s===i.days,c=s===i.years,u=!!e&&new Date(r,c?e.getMonth():a,h?o:e.getDate()),d=!!t&&new Date(r,c?t.getMonth():a,h?o:t.getDate());return e&&t?m(u,e)||f(d,t):e?m(u,e):t?f(d,t):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:e,rangeDateTo:t}=this.dp,i=d({"-in-range-":e&&t&&(s=this.date,n=e,a=t,f(s,n)&&m(s,a)),"-range-from-":e&&p(this.date,e,this.type),"-range-to-":t&&p(this.date,t,this.type)});var s,n,a;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),i&&this.$cell.classList.add(...i.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){p(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function $(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let L={[i.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${i.days}-"></div>`,[i.months]:`<div class="air-datepicker-body--cells -${i.months}-"></div>`,[i.years]:`<div class="air-datepicker-body--cells -${i.years}-"></div>`};const M=".air-datepicker-cell";class T{constructor(e){let{dp:t,type:s,opts:n}=e;$(this,"handleClick",e=>{let t=e.target.closest(M).adpCell;if(t.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let i=this.dp._checkIfDateIsSelected(t.date,t.type);i?this.dp._handleAlreadySelectedDates(i,t.date):this.dp.selectDate(t.date)}),$(this,"handleDayNameClick",e=>{let t=e.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(t),datepicker:this.dp})}),$(this,"onChangeCurrentView",e=>{e!==this.type?this.hide():(this.show(),this.render())}),$(this,"onMouseOverCell",e=>{let t=b(e.target,M);this.dp.setFocusDate(!!t&&t.adpCell.date)}),$(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),$(this,"onClickBody",e=>{let{onClickDayName:t}=this.opts,i=e.target;i.closest(M)&&this.handleClick(e),t&&i.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(e)}),$(this,"onMouseDown",e=>{this.pressed=!0;let t=b(e.target,M),i=t&&t.adpCell;p(i.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),p(i.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),$(this,"onMouseMove",e=>{if(!this.pressed||!this.dp.isMinViewReached)return;e.preventDefault();let t=b(e.target,M),i=t&&t.adpCell,{selectedDates:s,rangeDateTo:n,rangeDateFrom:a}=this.dp;if(!i||i.isDisabled)return;let{date:r}=i;if(2===s.length){if(this.rangeFromFocused&&!f(r,n)){let{hours:e,minutes:t}=l(a);r.setHours(e),r.setMinutes(t),this.dp.rangeDateFrom=r,this.dp.replaceDate(a,r)}if(this.rangeToFocused&&!m(r,a)){let{hours:e,minutes:t}=l(n);r.setHours(e),r.setMinutes(t),this.dp.rangeDateTo=r,this.dp.replaceDate(n,r)}}}),$(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),$(this,"onChangeViewDate",(e,t)=>{if(!this.isVisible)return;let s=u(e),n=u(t);switch(this.dp.currentView){case i.days:if(p(e,t,i.months))return;break;case i.months:if(p(e,t,i.years))return;break;case i.years:if(s[0]===n[0]&&s[1]===n[1])return}this.render()}),$(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(e=>{this.$cells.appendChild(e.render())})}),this.dp=t,this.type=s,this.opts=n,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:t}=this.opts;g(this.$el,"mouseover",this.onMouseOverCell),g(this.$el,"mouseout",this.onMouseOutCell),g(this.$el,"click",this.onClickBody),e&&t&&(g(this.$el,"mousedown",this.onMouseDown),g(this.$el,"mousemove",this.onMouseMove),g(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=a({className:`air-datepicker-body -${this.type}-`,innerHtml:L[this.type]}),this.$names=n(".air-datepicker-body--day-names",this.$el),this.$cells=n(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dp.locale.firstDay,t="",s=this.dp.isWeekend,{onClickDayName:n}=this.opts,a=e,r=0;for(;r<7;){let e=a%7;t+=`<div class="${d("air-datepicker-body--day-name",{[i.cssClassWeekend]:s(e),"-clickable-":!!n})}" data-day-index='${e}'>${this.dp.locale.daysMin[e]}</div>`,r++,a++}return t}_getDaysCells(){let{viewDate:e,locale:{firstDay:t}}=this.dp,i=o(e),{year:s,month:n}=l(e),a=new Date(s,n,1),r=new Date(s,n,i),h=a.getDay()-t,c=6-r.getDay()+t;h=h<0?h+7:h,c=c>6?c-7:c;let u=function(e,t){let{year:i,month:s,date:n}=l(e);return new Date(i,s,n-t)}(a,h),d=i+h+c,p=u.getDate(),{year:f,month:m}=l(u),v=0;for(;v<d;){let e=new Date(f,m,p+v);this._generateCell(e),v++}}_generateCell(e){let{type:t,dp:i,opts:s}=this,n=new S({type:t,dp:i,opts:s,date:e,body:this});return this.cells.push(n),n}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:e}=this.dp.parsedViewDate,t=0;for(;t<12;)this.cells.push(this._generateCell(new Date(e,t))),t++}_generateYearCells(){let e=u(this.dp.viewDate),t=e[0]-1,i=e[1]+1,s=t;for(;s<=i;)this.cells.push(this._generateCell(new Date(s,0))),s++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case i.days:this._generateDayCells();break;case i.months:this._generateMonthCells();break;case i.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(e=>e.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}}function E(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class x{constructor(e){let{dp:t,opts:i}=e;E(this,"onClickNav",e=>{let t=b(e.target,".air-datepicker-nav--action");if(!t)return;let i=t.dataset.action;this.dp[i]()}),E(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),E(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),E(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),E(this,"update",()=>{let{prevHtml:e,nextHtml:t}=this.opts;this.$prev.innerHTML=e,this.$next.innerHTML=t,this._resetNavStatus(),this.render(),this.handleNavStatus()}),E(this,"renderDelay",()=>{setTimeout(this.render)}),E(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(e,t){for(let i in t)t[i]?e.classList.add(i):e.classList.remove(i)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=t,this.opts=i,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=n(".air-datepicker-nav--title",this.$el),this.$prev=n('[data-action="prev"]',this.$el),this.$next=n('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=a({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:t}=this,i=t.navTitles[e.currentView];return"function"==typeof i?i(e):e.formatDate(e.viewDate,i)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:t,maxDate:s}=this.dp;if(!t&&!s||!e)return;let{year:n,month:a}=this.dp.parsedViewDate,r=!!t&&l(t),o=!!s&&l(s);switch(this.dp.currentView){case i.days:t&&r.month>=a&&r.year>=n&&this._disableNav("prev"),s&&o.month<=a&&o.year<=n&&this._disableNav("next");break;case i.months:t&&r.year>=n&&this._disableNav("prev"),s&&o.year<=n&&this._disableNav("next");break;case i.years:{let e=u(this.dp.viewDate);t&&r.year>=e[0]&&this._disableNav("prev"),s&&o.year<=e[1]&&this._disableNav("next");break}}}_disableNav(e){n('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){!function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];e.length?e.forEach(e=>{e.classList.remove(...i)}):e.classList.remove(...i)}(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:t}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${e}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${t}</div>`}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find(t=>"function"==typeof e[t])}}var O={today:{content:e=>e.locale.today,onClick:e=>e.setViewDate(new Date)},clear:{content:e=>e.locale.clear,onClick:e=>e.clear()}};class F{constructor(e){let{dp:t,opts:i}=e;this.dp=t,this.opts=i,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=a({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach(e=>{let t=e;"string"==typeof e&&O[e]&&(t=O[e]);let i=this.createButton(t);t.onClick&&this.attachEventToButton(i,t.onClick),this.$el.appendChild(i)})}attachEventToButton(e,t){e.addEventListener("click",()=>{t(this.dp)})}createButton(e){let{content:t,className:i,tagName:s="button",attrs:n={}}=e;return a({tagName:s,innerHtml:`<span tabindex='-1'>${"function"==typeof t?t(this.dp):t}</span>`,className:d("air-datepicker-button",i),attrs:n})}render(){this.generateButtons()}}function V(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class A{constructor(){let{opts:e,dp:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};V(this,"toggleTimepickerIsActive",e=>{this.dp.timepickerIsActive=e}),V(this,"onChangeSelectedDate",e=>{let{date:t,updateTime:i=!1}=e;t&&(this.setMinMaxTime(t),this.setCurrentTime(!!i&&t),this.addTimeToDate(t))}),V(this,"onChangeLastSelectedDate",e=>{e&&(this.setTime(e),this.render())}),V(this,"onChangeInputRange",e=>{let t=e.target;this[t.getAttribute("name")]=t.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),V(this,"onMouseEnterLeave",e=>{let t=e.target.getAttribute("name"),i=this.$minutesText;"hours"===t&&(i=this.$hoursText),i.classList.toggle("-focus-")}),V(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),V(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=e,this.dp=t;let{timeFormat:s}=this.dp.locale;s&&(s.match(C("h"))||s.match(C("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),g(this.$ranges,e,this.onChangeInputRange),g(this.$ranges,"mouseenter",this.onMouseEnterLeave),g(this.$ranges,"mouseleave",this.onMouseEnterLeave),g(this.$ranges,"focus",this.onFocus),g(this.$ranges,"mousedown",this.onFocus),g(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=a({className:d("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:t,displayHours:i,minutes:s,minHours:n,minMinutes:a,maxHours:r,maxMinutes:o,dayPeriod:l,opts:{hoursStep:h,minutesStep:u}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${c(i)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${c(s)}</span>   `+(e?`<span class='air-datepicker-time--current-ampm'>${l}</span>`:"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+`      <input type="range" name="hours" value="${t}" min="${n}" max="${r}" step="${h}"/>   </div>   <div class="air-datepicker-time--row">`+`      <input type="range" name="minutes" value="${s}" min="${a}" max="${o}" step="${u}"/>   </div></div>`}defineDOM(){let e=e=>n(e,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:t,maxDate:i}=this.dp;t&&p(e,t)&&this.setMinTimeFromMinDate(t),i&&p(e,i)&&this.setMaxTimeFromMaxDate(i)}}setCurrentTime(e){let{hours:t,minutes:i}=e?l(e):this;this.hours=w(t,this.minHours,this.maxHours),this.minutes=w(i,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:t,maxHours:i,maxMinutes:s}=this.opts;this.minHours=w(e,0,23),this.minMinutes=w(t,0,59),this.maxHours=w(i,0,23),this.maxMinutes=w(s,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:t}=this.dp;this.minHours=e.getHours(),t&&t.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:t}=this.dp;this.maxHours=e.getHours(),t&&t.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}updateSliders(){r(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,r(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=c(this.displayHours),this.$minutesText.innerHTML=c(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:t,dayPeriod:i}=h(e);this.displayHours=this.ampm?t:e,this.dayPeriod=i}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function I(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class H{constructor(e){let{dp:t,opts:i}=e;I(this,"pressedKeys",new Set),I(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],e=>e.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],e=>e.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],e=>e.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],e=>e.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],e=>e.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],e=>e.year-=10],[["Control","Shift","ArrowUp"],(e,t)=>t.up()]])),I(this,"handleHotKey",e=>{let t=this.hotKeys.get(e),i=l(this.getInitialFocusDate());t(i,this.dp);let{year:s,month:n,date:a}=i,r=o(new Date(s,n));r<a&&(a=r);let h=this.dp.getClampedDate(new Date(s,n,a));this.dp.setFocusDate(h,{viewDateTransition:!0})}),I(this,"isHotKeyPressed",()=>{let e=!1,t=this.pressedKeys.size,i=e=>this.pressedKeys.has(e);for(let[s]of this.hotKeys){if(e)break;if(Array.isArray(s[0]))s.forEach(n=>{e||t!==n.length||(e=n.every(i)&&s)});else{if(t!==s.length)continue;e=s.every(i)&&s}}return e}),I(this,"isArrow",e=>e>=37&&e<=40),I(this,"onKeyDown",e=>{let{key:t,which:i}=e,{dp:s,dp:{focusDate:n},opts:a}=this;this.registerKey(t);let r=this.isHotKeyPressed();if(r)return e.preventDefault(),void this.handleHotKey(r);if(this.isArrow(i))return e.preventDefault(),void this.focusNextCell(t);if("Enter"===t){if(s.currentView!==a.minView)return void s.down();if(n){let e=s._checkIfDateIsSelected(n);return void(e?s._handleAlreadySelectedDates(e,n):s.selectDate(n))}}"Escape"===t&&this.dp.hide()}),I(this,"onKeyUp",e=>{this.removeKey(e.key)}),this.dp=t,this.opts=i,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:t,selectedDates:s,parsedViewDate:{year:n,month:a}}=this.dp,r=e||s[s.length-1];if(!r)switch(t){case i.days:r=new Date(n,a,(new Date).getDate());break;case i.months:r=new Date(n,a,1);break;case i.years:r=new Date(n,0,1)}return r}focusNextCell(e){let t=this.getInitialFocusDate(),{currentView:s}=this.dp,{days:n,months:a,years:r}=i,o=l(t),h=o.year,c=o.month,u=o.date;switch(e){case"ArrowLeft":s===n&&(u-=1),s===a&&(c-=1),s===r&&(h-=1);break;case"ArrowUp":s===n&&(u-=7),s===a&&(c-=3),s===r&&(h-=4);break;case"ArrowRight":s===n&&(u+=1),s===a&&(c+=1),s===r&&(h+=1);break;case"ArrowDown":s===n&&(u+=7),s===a&&(c+=3),s===r&&(h+=4)}let d=this.dp.getClampedDate(new Date(h,c,u));this.dp.setFocusDate(d,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let N={on(e,t){this.__events||(this.__events={}),this.__events[e]?this.__events[e].push(t):this.__events[e]=[t]},off(e,t){this.__events&&this.__events[e]&&(this.__events[e]=this.__events[e].filter(e=>e!==t))},removeAllEvents(){this.__events={}},trigger(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];this.__events&&this.__events[e]&&this.__events[e].forEach(e=>{e(...i)})}};function P(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let j="",q="",R=!1;class B{static buildGlobalContainer(e){R=!0,j=a({className:e,id:e}),n("body").appendChild(j)}constructor(e,t){var r=this;if(P(this,"viewIndexes",[i.days,i.months,i.years]),P(this,"next",()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(e,t+1,1));break;case i.months:this.setViewDate(new Date(e+1,t,1));break;case i.years:this.setViewDate(new Date(e+10,0,1))}}),P(this,"prev",()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(e,t-1,1));break;case i.months:this.setViewDate(new Date(e-1,t,1));break;case i.years:this.setViewDate(new Date(e-10,0,1))}}),P(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),P(this,"setPosition",(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"==typeof(e=e||r.opts.position))return void(r.customHide=e({$datepicker:r.$datepicker,$target:r.$el,$pointer:r.$pointer,isViewChange:t,done:r._finishHide}));let i,s,{isMobile:n}=r.opts,a=r.$el.getBoundingClientRect(),o=r.$el.getBoundingClientRect(),l=r.$datepicker.offsetParent,h=r.$el.offsetParent,c=r.$datepicker.getBoundingClientRect(),u=e.split(" "),d=window.scrollY,p=window.scrollX,f=r.opts.offset,m=u[0],v=u[1];if(n)r.$datepicker.style.cssText="left: 50%; top: 50%";else{if(l===h&&l!==document.body&&(o={top:r.$el.offsetTop,left:r.$el.offsetLeft,width:a.width,height:r.$el.offsetHeight},d=0,p=0),l!==h&&l!==document.body){let e=l.getBoundingClientRect();o={top:a.top-e.top,left:a.left-e.left,width:a.width,height:a.height},d=0,p=0}switch(m){case"top":i=o.top-c.height-f;break;case"right":s=o.left+o.width+f;break;case"bottom":i=o.top+o.height+f;break;case"left":s=o.left-c.width-f}switch(v){case"top":i=o.top;break;case"right":s=o.left+o.width-c.width;break;case"bottom":i=o.top+o.height-c.height;break;case"left":s=o.left;break;case"center":/left|right/.test(m)?i=o.top+o.height/2-c.height/2:s=o.left+o.width/2-c.width/2}r.$datepicker.style.cssText=`left: ${s+p}px; top: ${i+d}px`}})),P(this,"_setInputValue",()=>{let{opts:e,$altField:t,locale:{dateFormat:i}}=this,{altFieldDateFormat:s,altField:n}=e;n&&t&&(t.value=this._getInputValue(s)),this.$el.value=this._getInputValue(i)}),P(this,"_getInputValue",e=>{let{selectedDates:t,opts:i}=this,{multipleDates:s,multipleDatesSeparator:n}=i;if(!t.length)return"";let a="function"==typeof e,r=a?e(s?t:t[0]):t.map(t=>this.formatDate(t,e));return r=a?r:r.join(n),r}),P(this,"_checkIfDateIsSelected",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.days,s=!1;return r.selectedDates.some(i=>{let n=p(e,i,t);return s=n&&i,n}),s})),P(this,"_scheduleCallAfterTransition",e=>{this._cancelScheduledCall(),e&&e(!1),this._onTransitionEnd=()=>{e&&e(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),P(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),P(this,"setViewDate",e=>{if(!((e=k(e))instanceof Date))return;if(p(e,this.viewDate))return;let t=this.viewDate;this.viewDate=e;let{onChangeViewDate:s}=this.opts;if(s){let{month:e,year:t}=this.parsedViewDate;s({month:e,year:t,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,e,t)}),P(this,"setFocusDate",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!e||(e=k(e))instanceof Date)&&(r.focusDate=e,r.opts.range&&e&&r._handleRangeOnFocus(),r.trigger(i.eventChangeFocusDate,e,t))})),P(this,"setCurrentView",e=>{if(this.viewIndexes.includes(e)){if(this.currentView=e,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(i.eventChangeCurrentView,e),!this.views[e]){let t=this.views[e]=new T({dp:this,opts:this.opts,type:e});this.shouldUpdateDOM&&this.$content.appendChild(t.$el)}this.opts.onChangeView&&this.opts.onChangeView(e)}}),P(this,"_updateLastSelectedDate",e=>{this.lastSelectedDate=e,this.trigger(i.eventChangeLastSelectedDate,e)}),P(this,"destroy",()=>{let{showEvent:e,isMobile:t}=this.opts,i=this.$datepicker.parentNode;i&&i.removeChild(this.$datepicker),this.$el.removeEventListener(e,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),t&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),P(this,"update",e=>{let t=D({},this.opts);D(this.opts,e);let{timepicker:s,buttons:n,range:a,selectedDates:r,isMobile:o}=this.opts,l=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!t.selectedDates&&r&&this.selectDate(r),e.view&&this.setCurrentView(e.view),this._setInputValue(),t.range&&!a?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!t.range&&a&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),t.timepicker&&!s?(l&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!t.timepicker&&s&&this._addTimepicker(),!t.buttons&&n?this._addButtons():t.buttons&&!n?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):l&&t.buttons&&n&&this.buttons.clearHtml().render(),!t.isMobile&&o?(this.treatAsInline||q||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):t.isMobile&&!o&&(this._removeMobileAttributes(),this.visible&&(q.classList.remove("-active-"),"function"!=typeof this.opts.position&&this.setPosition())),l&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===i.days&&this.views[this.currentView].renderDayNames())}),P(this,"isOtherMonth",e=>{let{month:t}=l(e);return t!==this.parsedViewDate.month}),P(this,"isOtherYear",e=>{let{year:t}=l(e);return t!==this.parsedViewDate.year}),P(this,"isOtherDecade",e=>{let{year:t}=l(e),[i,s]=u(this.viewDate);return t<i||t>s}),P(this,"_onChangeSelectedDate",e=>{let{silent:t}=e;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!t&&this._triggerOnSelect()})}),P(this,"_onChangeFocusedDate",(function(e){let{viewDateTransition:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let i=!1;t&&(i=r.isOtherMonth(e)||r.isOtherYear(e)||r.isOtherDecade(e)),i&&r.setViewDate(e)})),P(this,"_onChangeTime",e=>{let{hours:t,minutes:i}=e,s=new Date,{lastSelectedDate:n,opts:{onSelect:a}}=this,r=n;n||(r=s);let o=this.getCell(r,this.currentViewSingular),l=o&&o.adpCell;l&&l.isDisabled||(r.setHours(t),r.setMinutes(i),n?(this._setInputValue(),a&&this._triggerOnSelect()):this.selectDate(r))}),P(this,"_onFocus",e=>{this.visible||this.show()}),P(this,"_onBlur",e=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),P(this,"_onMouseDown",e=>{this.inFocus=!0}),P(this,"_onMouseUp",e=>{this.inFocus=!1,this.$el.focus()}),P(this,"_onResize",()=>{this.visible&&"function"!=typeof this.opts.position&&this.setPosition()}),P(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),P(this,"isWeekend",e=>this.opts.weekends.includes(e)),P(this,"getClampedDate",e=>{let{minDate:t,maxDate:i}=this,s=e;return i&&f(e,i)?s=i:t&&m(e,t)&&(s=t),s}),this.$el=n(e),!this.$el)return;this.$datepicker=a({className:"air-datepicker"}),this.opts=D({},s,t),this.$customContainer=!!this.opts.container&&n(this.opts.container),this.$altField=n(this.opts.altField||!1);let{view:o,startDate:h}=this.opts;h||(this.opts.startDate=new Date),"INPUT"===this.$el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=k(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=o,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:t,opts:{inline:i,isMobile:s,selectedDates:a,keyboardNav:r,onlyTimepicker:o}}=this,l=n("body");(!R||R&&j&&!l.contains(j))&&!i&&this.elIsInput&&!this.$customContainer&&B.buildGlobalContainer(B.defaultGlobalContainerId),!s||q||t||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(i||this._bindEvents(),r&&!o&&(this.keyboardNav=new H({dp:this,opts:e}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!t&&this.show(),s&&!t&&this.$el.setAttribute("readonly",!0),t&&this._createComponents()}_createMobileOverlay(){q=a({className:"air-datepicker-overlay"}),j.appendChild(q)}_createComponents(){let{opts:e,treatAsInline:t,opts:{inline:i,buttons:s,timepicker:n,position:a,classes:r,onlyTimepicker:o,isMobile:l}}=this;this._buildBaseHtml(),this.elIsInput&&(i||this._setPositionClasses(a)),!i&&this.elIsInput||this.$datepicker.classList.add("-inline-"),r&&this.$datepicker.classList.add(...r.split(" ")),o&&this.$datepicker.classList.add("-only-timepicker-"),l&&!t&&this._addMobileAttributes(),this.views[this.currentView]=new T({dp:this,type:this.currentView,opts:e}),this.nav=new x({dp:this,opts:e}),n&&this._addTimepicker(),s&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){q.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){q.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||""===this.initialReadonly||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:t}=this.opts;this.minDate=!!e&&k(e),this.maxDate=!!t&&k(t)}_addTimepicker(){this.$timepicker=a({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new A({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=a({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new F({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var t,i;this.elIsInput?e?(t=this.$datepicker,(i=this.$el).parentNode.insertBefore(t,i.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=n(".air-datepicker--content",this.$datepicker),this.$pointer=n(".air-datepicker--pointer",this.$datepicker),this.$nav=n(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:t,firstDay:i,timepicker:s,onlyTimepicker:n,timeFormat:a,dateTimeSeparator:r}=this.opts;var o;this.locale=(o=e,JSON.parse(JSON.stringify(o))),t&&(this.locale.dateFormat=t),void 0!==a&&""!==a&&(this.locale.timeFormat=a);let{timeFormat:l}=this.locale;if(""!==i&&(this.locale.firstDay=i),s&&"function"!=typeof t){let e=l?r:"";this.locale.dateFormat=[this.locale.dateFormat,l||""].join(e)}n&&"function"!=typeof t&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if("function"==typeof e)return void this.$datepicker.classList.add("-custom-position-");let t=(e=e.split(" "))[0],i=`air-datepicker -${t}-${e[1]}- -from-${t}-`;this.$datepicker.classList.add(...i.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:t,maxDate:i}=this;i&&f(e,i)&&this.setViewDate(i),t&&m(e,t)&&this.setViewDate(t)}formatDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewDate,t=arguments.length>1?arguments[1]:void 0;if(e=k(e),!(e instanceof Date))return;let i=t,s=this.locale,n=l(e),a=n.dayPeriod,r=u(e),o=B.replacer,h={T:e.getTime(),m:n.minutes,mm:n.fullMinutes,h:n.hours12,hh:n.fullHours12,H:n.hours,HH:n.fullHours,aa:a,AA:a.toUpperCase(),E:s.daysShort[n.day],EEEE:s.days[n.day],d:n.date,dd:n.fullDate,M:n.month+1,MM:n.fullMonth,MMM:s.monthsShort[n.month],MMMM:s.months[n.month],yy:n.year.toString().slice(-2),yyyy:n.year,yyyy1:r[0],yyyy2:r[1]};for(let[e,t]of Object.entries(h))i=o(i,C(e),t);return i}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currentView:n,parsedViewDate:a,selectedDates:r}=this,{updateTime:o}=s,{moveToOtherMonthsOnSelect:l,moveToOtherYearsOnSelect:h,multipleDates:c,range:u,autoClose:d}=this.opts,p=r.length;if(Array.isArray(e))return e.forEach(e=>{this.selectDate(e,s)}),new Promise(e=>{setTimeout(e)});if((e=k(e))instanceof Date){if(n===i.days&&e.getMonth()!==a.month&&l&&(t=new Date(e.getFullYear(),e.getMonth(),1)),n===i.years&&e.getFullYear()!==a.year&&h&&(t=new Date(e.getFullYear(),0,1)),t&&this.setViewDate(t),c&&!u){if(p===c)return;this._checkIfDateIsSelected(e)||r.push(e)}else if(u)switch(p){case 1:r.push(e),this.rangeDateTo||(this.rangeDateTo=e),f(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:null==s?void 0:s.silent,date:e,updateTime:o}),this._updateLastSelectedDate(e),d&&!this.timepickerIsActive&&this.visible&&(c||u?u&&1===p&&this.hide():this.hide()),new Promise(e=>{setTimeout(e)})}}unselectDate(e){let t=this.selectedDates,s=this;if((e=k(e))instanceof Date)return t.some((n,a)=>{if(p(n,e))return t.splice(a,1),s.selectedDates.length?s._updateLastSelectedDate(s.selectedDates[s.selectedDates.length-1]):(s.rangeDateFrom="",s.rangeDateTo="",s._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:e}),!0})}replaceDate(e,t){let s=this.selectedDates.find(t=>p(t,e,this.currentView)),n=this.selectedDates.indexOf(s);n<0||p(this.selectedDates[n],t,this.currentView)||(this.selectedDates[n]=t,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:t,updateTime:!0}),this._updateLastSelectedDate(t))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,silent:e.silent}),new Promise(e=>{setTimeout(e)})}show(){let{onShow:e,isMobile:t}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),t&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:t}=this.opts,i=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(t=>{!this.customHide&&(t&&i||!t&&!i)&&this._finishHide(),e&&e(t)}),t&&q.classList.remove("-active-")}_triggerOnSelect(){let e=[],t=[],{selectedDates:i,locale:s,opts:{onSelect:n,multipleDates:a,range:r}}=this,o=a||r,l="function"==typeof s.dateFormat;i.length&&(e=i.map(v),t=l?a?s.dateFormat(e):e.map(e=>s.dateFormat(e)):e.map(e=>this.formatDate(e,s.dateFormat))),n({date:o?e:e[0],formattedDate:o?t:t[0],datepicker:this})}_handleAlreadySelectedDates(e,t){let{range:i,toggleSelected:s}=this.opts;i?s?this.unselectDate(t):2!==this.selectedDates.length&&this.selectDate(t):s&&this.unselectDate(t),s||this._updateLastSelectedDate(e)}_handleUpDownActions(e,t){if(!((e=k(e||this.focusDate||this.viewDate))instanceof Date))return;let i="up"===t?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),i<0&&(i=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[i])}_handleRangeOnFocus(){1===this.selectedDates.length&&(f(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.day;if(!((e=k(e))instanceof Date))return;let{year:s,month:n,date:a}=l(e),r=`[data-year="${s}"]`,o=`[data-month="${n}"]`,h={[i.day]:`${r}${o}[data-date="${a}"]`,[i.month]:`${r}${o}`,[i.year]:""+r};return this.views[this.currentView].$el.querySelector(h[t])}_showMobileOverlay(){q.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((e,t)=>parseFloat(t)+e,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return l(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return u(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||j}static replacer(e,t,i){return e.replace(t,(function(e,t,s,n){return t+i+n}))}}var U;return P(B,"defaults",s),P(B,"version","3.3.5"),P(B,"defaultGlobalContainerId","air-datepicker-global-container"),U=B.prototype,Object.assign(U,N),t.default}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0}},function(e,t,i){i(0),e.exports=i(5)},function(e,t,i){var s=function(e){"use strict";var t=Object.prototype,i=t.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},n=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",r=s.toStringTag||"@@toStringTag";function o(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,i){return e[t]=i}}function l(e,t,i,s){var n=t&&t.prototype instanceof u?t:u,a=Object.create(n.prototype),r=new C(s||[]);return a._invoke=function(e,t,i){var s="suspendedStart";return function(n,a){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===n)throw a;return S()}for(i.method=n,i.arg=a;;){var r=i.delegate;if(r){var o=w(r,i);if(o){if(o===c)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===s)throw s="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);s="executing";var l=h(e,t,i);if("normal"===l.type){if(s=i.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(s="completed",i.method="throw",i.arg=l.arg)}}}(e,i,r),a}function h(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c={};function u(){}function d(){}function p(){}var f={};o(f,n,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==t&&i.call(v,n)&&(f=v);var y=p.prototype=u.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var s;this._invoke=function(n,a){function r(){return new t((function(s,r){!function s(n,a,r,o){var l=h(e[n],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){s("next",e,r,o)}),(function(e){s("throw",e,r,o)})):t.resolve(u).then((function(e){c.value=e,r(c)}),(function(e){return s("throw",e,r,o)}))}o(l.arg)}(n,a,s,r)}))}return s=s?s.then(r,r):r()}}function w(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var s=h(i,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,c;var n=s.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function _(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,a=function t(){for(;++s<e.length;)if(i.call(e,s))return t.value=e[s],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,o(y,"constructor",p),o(p,"constructor",d),d.displayName=o(p,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,r,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),o(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,i,s,n,a){void 0===a&&(a=Promise);var r=new b(l(t,i,s,n),a);return e.isGeneratorFunction(i)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},g(y),o(y,r,"Generator"),o(y,n,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var s=t.pop();if(s in e)return i.value=s,i.done=!1,i}return i.done=!0,i}},e.values=_,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function s(i,s){return r.type="throw",r.arg=e,t.next=i,s&&(t.method="next",t.arg=void 0),!!s}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],r=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var o=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(o&&l){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var s=this.tryEntries.length-1;s>=0;--s){var n=this.tryEntries[s];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),k(i),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var s=i.completion;if("throw"===s.type){var n=s.arg;k(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:_(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=s}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},function(e,t,i){"use strict";i.r(t);i(4);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var s,n,a=[],r=!0,o=!1;try{for(i=i.call(e);!(r=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(e){o=!0,n=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw n}}return a}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function r(e,t,i,s,n,a,r){try{var o=e[a](r),l=o.value}catch(e){return void i(e)}o.done?t(l):Promise.resolve(l).then(s,n)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(s,n){var a=e.apply(t,i);function o(e){r(a,s,n,o,l,"next",e)}function l(e){r(a,s,n,o,l,"throw",e)}o(void 0)}))}}function l(){return h.apply(this,arguments)}function h(){return(h=o(regeneratorRuntime.mark((function e(){var t,i,s,n,a,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",i=r.length>1&&void 0!==r[1]?r[1]:{},s=r.length>2&&void 0!==r[2]?r[2]:"POST",n={method:s,cache:"no-store",headers:{"Content-Type":"application/json","X-WP-Nonce":rgbcode_authform.nonce}},"GET"!==s&&(n.body=JSON.stringify(i)),e.next=7,fetch(t,n);case 7:return a=e.sent,e.abrupt("return",a.json());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){var t,i={},a=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){l=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(l)throw r}}}}(new FormData(e));try{for(a.s();!(t=a.n()).done;){var r=s(t.value,2),o=r[0],l=r[1];i[o]=l}}catch(e){a.e(e)}finally{a.f()}return i}var u=i(0);function d(){var e=document.querySelector("html"),t=document.querySelector(".rgbcode-authform-back");if(t){var i=t.querySelectorAll(".rgbcode-authform-modal"),s=document.querySelectorAll(".js-rgbcode-authform");s.length&&s.forEach((function(i){i.addEventListener("click",(function(s){i.dataset.onlyDesktop&&window.innerWidth<=1024||(s.preventDefault(),function(i){(e.style.overflow="hidden",t.classList.remove(u.Constants.hideClass),i)&&(t.querySelector("#".concat(i))||"rgbcode-signup"!==i||(i="rgbcode-deposit"),t.querySelector("#".concat(i)).classList.remove(u.Constants.hideClass))}(i.dataset.target))}))}));var n=t.querySelectorAll(".rgbcode-authform-modal__close");n&&n.forEach((function(s){s.addEventListener("click",(function(){e.style.overflow="",i.forEach((function(e){e.classList.add(u.Constants.hideClass)})),t.classList.add(u.Constants.hideClass)}))}));var a=t.querySelector(".rgbcode-authform-message__close");a&&a.addEventListener("click",(function(e){a.parentElement.classList.add(u.Constants.hideClass)}))}}function p(){var e=document.querySelector("#rgbcode-signup"),t=document.querySelector("#rgbcode-deposit");if(e&&t){var i=e.querySelector(".rgbcode-authform-form"),s=t.querySelector(".rgbcode-authform-form"),n=i.querySelector(".rgbcode-authform-flag-input__code"),a=i.querySelector(".rgbcode-authform-button"),r=s.querySelector(".rgbcode-authform-button"),o=i.querySelector(".rgbcode-authform-input__error_submit"),h=s.querySelector(".rgbcode-authform-input__error_submit"),d={};i.addEventListener("submit",(function(s){s.preventDefault();var r,h,p=c(i),f=(r="referral_params",!!(h=document.cookie.match(new RegExp("(?:^|; )"+r.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))&&decodeURIComponent(h[1]));p.phonecountry=n.textContent.trim(),p.iso=n.dataset.iso,f&&(p.referral=f.substr(1).replaceAll("&","|")),a.classList.add("rgbcode-authform-button_loader"),l("/wp-json/rgbcode/v1/customer",p).then((function(i){i.success?(d.clientEmail=i.email,o.classList.add(u.Constants.hideClass),e.remove(),t.classList.remove(u.Constants.hideClass)):(o.classList.remove(u.Constants.hideClass),o.textContent=i.message?i.message:i.data,a.classList.remove("rgbcode-authform-button_loader"))})).catch((function(e){console.error("Error:",e)}))})),s.addEventListener("submit",(function(e){e.preventDefault();var t=c(s);t.email=d.clientEmail,r.classList.add("rgbcode-authform-button_loader"),l("/wp-json/rgbcode/v1/customer",t,"PUT").then((function(e){e.success?(h.classList.add(u.Constants.hideClass),location.href=e.link):(h.classList.remove(u.Constants.hideClass),h.textContent=e.message?e.message:e.data,r.classList.remove("rgbcode-authform-button_loader"))})).catch((function(e){console.error("Error:",e)}))}))}}function f(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,s;return t=e,(i=[{key:"nameTest",value:function(e){return/^[a-zA-Zء-ي]{3,50}$/.test(e)}},{key:"emailTest",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.){1,2}[a-zA-Z]{2,}))$/.test(e)}},{key:"phoneTest",value:function(e){return/^[0-9]{6,}$/.test(e)}},{key:"textTest",value:function(e){return/^[\u0600-\u06FFa-zA-Z0-9 ]{2,100}$/.test(e)}},{key:"addressTest",value:function(e){return/^[\u0600-\u06FFa-zA-Z0-9 .\/]{2,100}$/.test(e)}},{key:"checkPass",value:function(e){return/^[a-zA-Z]{6,}$/.test(e)}},{key:"limitPhone",value:function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[\D]/g,""),t.value.length>10&&(t.value=t.value.substr(0,10))}))}},{key:"checkAge",value:function(e){var t=new Date(e),i=(Date.now()-t.getTime())/315576e5;return i>=18&&i<=100}}])&&f(t.prototype,i),s&&f(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elem=t}var t,i,s;return t=e,(i=[{key:"showTooltip",value:function(){this.elem.classList.remove(u.Constants.hideClass)}},{key:"hideTooltip",value:function(){this.elem.classList.add(u.Constants.hideClass)}}])&&v(t.prototype,i),s&&v(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var b=function(){function e(t){var i,s,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=0,(s="count")in(i=this)?Object.defineProperty(i,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[s]=n,this.length=t.querySelector("#rgbc-length"),this.lowercase=t.querySelector("#rgbc-lower"),this.uppercase=t.querySelector("#rgbc-upper"),this.number=t.querySelector("#rgbc-num"),this.tooltip=new y(t.querySelector(".rgbcode-authform-tooltip"))}var t,i,s;return t=e,(i=[{key:"checkPass",value:function(e){return this.count=0,this.checkCountChar(e)?this.successCheck(this.length):this.failCheck(this.length),this.checkIfOneLowercase(e)?this.successCheck(this.lowercase):this.failCheck(this.lowercase),this.checkIfOneUppercase(e)?this.successCheck(this.uppercase):this.failCheck(this.uppercase),this.checkIfOneDigit(e)?this.successCheck(this.number):this.failCheck(this.number),4===this.count}},{key:"successCheck",value:function(e){e.classList.add(u.Constants.validClass),this.count++}},{key:"failCheck",value:function(e){e.classList.remove(u.Constants.validClass),this.count--}},{key:"checkCountChar",value:function(e){return e.length>=6&&e.length<=12}},{key:"checkIfOneLowercase",value:function(e){return/[a-z]/.test(e)}},{key:"checkIfOneUppercase",value:function(e){return/[A-Z]/.test(e)}},{key:"checkIfOneDigit",value:function(e){return/[0-9]/.test(e)}}])&&g(t.prototype,i),s&&g(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var D=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=t,this.indicator=this.form.querySelector(".rgbcode-authform-pass-strength"),this.msgBlock=this.form.querySelector(".rgbcode-authform-pass-strength__msg"),this.msgs=JSON.parse(this.indicator.dataset.msgs),this.indicateClasses=Object.keys(this.msgs)}var t,i,s;return t=e,(i=[{key:"getStrengthLevelPass",value:function(e){var t=this.checkRepeatedChars(e)||!this.checkSeriesKeyboardChars(e),i=e.length>7&&e.length<=10&&this.checkIfTwoUppercase(e),s=e.length>10&&this.checkIfTwoUppercase(e);switch(!0){default:case t:return"weak";case i:return"medium";case s:return"strong"}}},{key:"showPassStrengthLevel",value:function(e){var t=this;if(this.indicator&&this.indicateClasses){var i=this.indicateClasses.filter((function(t){return t!==e}));this.indicator.classList.add(e),i.forEach((function(e){return t.indicator.classList.remove(e)}))}}},{key:"enableIndicate",value:function(e){this.msgBlock&&this.msgs[e]&&(this.showPassStrengthLevel(e),this.msgBlock.textContent=this.msgs[e])}},{key:"passIndicate",value:function(e){var t=this.getStrengthLevelPass(e);this.enableIndicate(t)}},{key:"resetIndicate",value:function(){var e=this;this.msgBlock&&this.indicateClasses&&this.indicator&&(this.indicateClasses.forEach((function(t){return e.indicator.classList.remove(t)})),this.msgBlock.textContent=this.msgBlock.dataset.default)}},{key:"checkIfTwoUppercase",value:function(e){return/[A-Z][^A-Z]*[A-Z]/.test(e)}},{key:"checkRepeatedChars",value:function(e){return/([a-z])\1{2}/gi.test(e)}},{key:"checkSeriesKeyboardChars",value:function(e){for(var t in e)if(+e[+t+1]==+e[t]+1&&+e[+t+2]==+e[t]+2)return!1;for(var i in e)if(String.fromCharCode(e.charCodeAt(i)+1)===e[+i+1]&&String.fromCharCode(e.charCodeAt(i)+2)===e[+i+2])return!1;return!0}}])&&w(t.prototype,i),s&&w(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var _=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];k(this,e),this.form=t,this.inputs=this.form.querySelectorAll(".rgbcode-authform-input__label input"),this.submit=this.form.querySelector("button[type=submit]"),this.checks=new m,this.checkStatuses=this.createCheckStatuses(),this.passCreate=i,this.passCreate&&(this.passStrengthIndicator=new D(this.form)),this.initValidate()}var t,i,s;return t=e,(i=[{key:"initValidate",value:function(){var e=this;this.inputs&&this.inputs.forEach((function(t){switch(t.name){case"firstname":case"lastname":e.enableValidation("nameTest",t),e.nameHandler(t);break;case"email":e.enableValidation("emailTest",t);break;case"phone":e.checks.limitPhone(t),e.enableValidation("phoneTest",t);break;case"password":e.passCreate?e.passListeners(t):e.enableValidation("checkPass",t);break;case"agree":e.checkAgree(t);break;case"address":e.enableValidation("addressTest",t);break;case"postcode":case"city":e.enableValidation("textTest",t);break;case"birthday":e.checkDate(t)}}))}},{key:"enableValidation",value:function(e,t){var i=this;t.addEventListener("input",(function(s){i.checkInput(t,i.checks[e].call(null,s.target.value))}))}},{key:"nameHandler",value:function(e){var t=this,i=null;e.addEventListener("input",(function(){null!==i&&clearTimeout(i),i=setTimeout((function(){e.value=e.value.replaceAll(/\s/g,""),t.checkInput(e,t.checks.nameTest(e.value))}),1e3)}))}},{key:"passListeners",value:function(e){var t=this,i=new b(this.form);e.addEventListener("input",(function(){var s=i.checkPass(e.value);s?(t.checkStatuses.password=!0,t.passStrengthIndicator.passIndicate(e.value),i.tooltip.hideTooltip()):(t.checkStatuses.password=!1,t.passStrengthIndicator.resetIndicate(),i.tooltip.showTooltip()),t.checkInput(e,s)})),e.addEventListener("focus",(function(){t.checkStatuses.password||i.tooltip.showTooltip()})),e.addEventListener("blur",(function(){i.tooltip.hideTooltip()}))}},{key:"checkPermissionSubmit",value:function(){this.submit&&(this.isFormValidate()?this.submit.disabled=!1:this.submit.disabled=!0)}},{key:"isFormValidate",value:function(){return!Object.values(this.checkStatuses).includes(!1)}},{key:"successValid",value:function(e){this.checkStatuses[e.name]=!0,e.classList.add(u.Constants.validClass),e.classList.remove(u.Constants.invalidClass),e.parentElement.nextElementSibling.classList.add(u.Constants.hideClass)}},{key:"unsuccessfulValid",value:function(e){this.checkStatuses[e.name]=!1,e.classList.add(u.Constants.invalidClass),e.classList.remove(u.Constants.validClass),e.parentElement.nextElementSibling.classList.remove(u.Constants.hideClass)}},{key:"checkAgree",value:function(e){var t=this;e.addEventListener("change",(function(e){t.checkStatuses.agree=e.target.checked,t.checkPermissionSubmit()}))}},{key:"checkDate",value:function(e){var t=this;e.addEventListener("change",(function(i){t.checkInput(e,t.checks.checkAge(i.target.value))}))}},{key:"createCheckStatuses",value:function(){if(!this.inputs)return{};var e={};return this.inputs.forEach((function(t){e[t.name]=!1})),e}},{key:"checkInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?this.successValid(e):this.unsuccessfulValid(e),this.checkPermissionSubmit()}}])&&C(t.prototype,i),s&&C(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}(),S=i(1),$=i.n(S).a,L=i(2),M=i.n(L);document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("rgbcode-authform")){var e,t=document.querySelector("#rgbcode-signup"),i=document.querySelector("#rgbcode-deposit");d(),new $("#rgbcode-authform-birthday",{isMobile:!0,autoClose:!0,dateFormat:"dd/MM/yyyy",buttons:["today","clear"],locale:M.a,onSelect:function(e){e.date,e.formattedDate;e.datepicker.$el.dispatchEvent(new Event("change"))}}),new _(t,!0),new _(i),(e=document.querySelectorAll(".rgbcode-authform-pass-toggle"))&&e.forEach((function(e){e.addEventListener("click",(function(t){e.classList.toggle("rgbcode-active");var i=e.previousElementSibling;"password"===i.type?i.type="text":i.type="password"}))})),function(){var e=document.querySelector("#rgbcode-deposit"),t=e.querySelector("#rgbcode-authform-deposit-country"),i=e.querySelector("#rgbcode-authform-deposit-currency"),s=e.querySelector(".js-select-list-current");t&&i&&t.addEventListener("change",(function(){var e;i.options.length=0;var n=t.options[t.selectedIndex],a=null!==(e=n.dataset.currency)&&void 0!==e?e:t.dataset.defaultCurrencies;a=JSON.parse(a),s.textContent=n.textContent,a.map((function(e){return new Option(e,e)})).forEach((function(e){return i.appendChild(e)}))}))}(),function(){var e=document.querySelector("#rgbcode-signup");if(e){var t=e.querySelector(".rgbcode-authform-flag-input");if(t){var i=function(e){var i=t.querySelector(".rgbcode-authform-flag-input__code");t.querySelector(".rgbcode-authform-flag-input__flag").src=e.src,i.dataset.iso=e.iso,i.textContent=e.code},s=function(e){var t=document.querySelector("#rgbcode-deposit").querySelector("#rgbcode-authform-deposit-country");t.value=e,t.dispatchEvent(new Event("change"))},n=e.querySelector(".rgbcode-authform-message");l("/wp-json/rgbcode/v1/detect_location",{},"GET").then((function(e){e.success&&(e.data.not_allowed&&n&&n.classList.remove(u.Constants.hideClass),i(e.data.country),s(e.data.country.iso))})).catch((function(e){console.error("Error:",e)}));var a=t.querySelector(".rgbcode-authform-flag-input__select");t.addEventListener("click",(function(){t.classList.contains("opened")||(a.classList.remove(u.Constants.hideClass),e.classList.toggle("rgbcode-authform-modal_overflow"),t.classList.add("opened"))}));var r=t.querySelectorAll(".rgbcode-authform-flag-input__option"),o=a.querySelector("[name=search]");r&&(r.forEach((function(n){n.addEventListener("click",(function(r){r.stopPropagation(),i(n.dataset),s(n.dataset.iso),a.classList.add(u.Constants.hideClass),t.classList.remove("opened"),e.classList.toggle("rgbcode-authform-modal_overflow"),o.value="",o.dispatchEvent(new Event("input"))}))})),o.addEventListener("input",(function(e){var t=e.target.value.toLowerCase();r.forEach((function(e,i){e.textContent.toLowerCase().includes(t)?e.classList.remove(u.Constants.hideClass):e.classList.add(u.Constants.hideClass)}))}))),a.querySelector(".rgbcode-authform-close").addEventListener("click",(function(i){i.stopPropagation(),a.classList.add(u.Constants.hideClass),t.classList.remove("opened"),e.classList.toggle("rgbcode-authform-modal_overflow")}))}}}(),p(),function(){var e=document.querySelectorAll(".js-select-list");if(!e.length)return null;e.forEach((function(e){var t=e.querySelector(".js-select-list-current"),i=e.querySelector(".js-select-list-select"),s=e.querySelector(".js-select-list-list");if(!t||!i||!s)return null;var n=Array.from(i.options);if(!n.length)return null;var a=document.createElement("input");a.classList.add("rgbcode-authform-select__search"),a.type="search",a.autocomplete="off",a.role="textbox",s.appendChild(a),t.innerHTML=i.selectedOptions[0].label;var r=document.createElement("ul");r.classList.add("select-list__list"),n.forEach((function(e){var t=document.createElement("li");t.classList.add("select-list__item"),t.innerHTML=e.label,r.appendChild(t)})),s.appendChild(r);var o=e.querySelectorAll(".select-list__item");o.forEach((function(s){s.addEventListener("click",(function(){var a=n.find((function(e){return e.label===s.textContent}));if(!a)return null;a.selected=!0,i.dispatchEvent(new Event("change")),t.innerHTML=i.selectedOptions[0].label,e.classList.remove("rgbcode-active")}))})),t.addEventListener("click",(function(){e.classList.toggle("rgbcode-active")})),document.addEventListener("click",(function(t){e.contains(t.target)||e.classList.remove("rgbcode-active")})),e.querySelector(".rgbcode-authform-select__search").addEventListener("input",(function(e){var t=e.target.value.toLowerCase();o.forEach((function(e,i){e.textContent.toLowerCase().includes(t)?e.classList.remove(u.Constants.hideClass):e.classList.add(u.Constants.hideClass)}))}))}))}()}}))}]);