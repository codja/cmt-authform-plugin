!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=5)}([function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.r(t),i.d(t,"Constants",(function(){return a}));var a=s((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));r(a,"hideClass","rgbcode-hidden"),r(a,"validClass","rgbcode-valid"),r(a,"invalidClass","rgbcode-invalid"),r(a,"cookieFirstStepName","first_form_filled"),r(a,"cookieUserEmail","first_form_email"),r(a,"imgFlagsPath","/wp-content/plugins/rgbcode-authform/assets/img/flags/"),r(a,"storage",{})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0}},function(e,t,i){e.exports=function(){"use strict";var e={d:function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return B}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},n={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?t.querySelector(e):e}function r(){let{tagName:e="div",className:t="",innerHtml:i="",id:n="",attrs:s={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=document.createElement(e);return t&&r.classList.add(...t.split(" ")),n&&(r.id=n),i&&(r.innerHTML=i),s&&a(r,s),r}function a(e,t){for(let[i,n]of Object.entries(t))void 0!==n&&e.setAttribute(i,n);return e}function o(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function l(e){let t=e.getHours(),{hours:i,dayPeriod:n}=c(t);return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:t,fullHours:h(t),hours12:i,dayPeriod:n,fullHours12:h(i),minutes:e.getMinutes(),fullMinutes:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}}function c(e){return{dayPeriod:e>11?"pm":"am",hours:e%12==0?12:e%12}}function h(e){return e<10?"0"+e:e}function u(e){let t=10*Math.floor(e.getFullYear()/10);return[t,t+9]}function d(){let e=[];for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(t=>{if("object"==typeof t)for(let i in t)t[i]&&e.push(i);else t&&e.push(t)}),e.join(" ")}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.days;if(!e||!t)return!1;let s=l(e),r=l(t),a={[i.days]:s.date===r.date&&s.month===r.month&&s.year===r.year,[i.months]:s.month===r.month&&s.year===r.year,[i.years]:s.year===r.year};return a[n]}function f(e,t,i){let n=v(e,!1).getTime(),s=v(t,!1).getTime();return i?n>=s:n>s}function m(e,t){return!f(e,t,!0)}function v(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new Date(e.getTime());return"boolean"!=typeof t||t||y(i),i}function y(e){return e.setHours(0,0,0,0),e}function g(e,t,i){e.length?e.forEach(e=>{e.addEventListener(t,i)}):e.addEventListener(t,i)}function b(e,t){return!(!e||e===document||e instanceof DocumentFragment)&&(e.matches(t)?e:b(e.parentNode,t))}function w(e,t,i){return e>i?i:e<t?t:e}function D(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.filter(e=>e).forEach(t=>{for(let[i,n]of Object.entries(t))if(void 0!==n&&"[object Object]"===n.toString()){let t=void 0!==e[i]?e[i].toString():void 0,s=n.toString(),r=Array.isArray(n)?[]:{};e[i]=e[i]?t!==s?r:e[i]:r,D(e[i],n)}else e[i]=n}),e}function k(e){let t=e;return e instanceof Date||(t=new Date(e)),isNaN(t.getTime())&&(console.log(`Unable to convert value "${e}" to Date object`),t=!1),t}function C(e){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+e+")($|<|"+t+")","g")}function S(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _{constructor(){let{type:e,date:t,dp:i,opts:n,body:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),S(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),S(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),S(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),S(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),S(this,"onChangeFocusDate",e=>{if(!e)return void(this.focused&&this.removeFocus());let t=p(e,this.date,this.type);t?this.focus():!t&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),S(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=e,this.singleType=this.type.slice(0,-1),this.date=t,this.dp=i,this.opts=n,this.body=s,this.customData=!1,this.init()}init(){let{range:e,onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),e&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:t,month:i,date:n}=l(this.date),s=(null===(e=this.customData)||void 0===e?void 0:e.attrs)||{};this.$cell=r({className:this._getClassName(),attrs:{"data-year":t,"data-month":i,"data-date":n,...s}})}_getClassName(){var e,t;let n=new Date,{selectOtherMonths:s,selectOtherYears:r}=this.opts,{minDate:a,maxDate:o}=this.dp,{day:c}=l(this.date),h=this._isOutOfMinMaxRange(),u=null===(e=this.customData)||void 0===e?void 0:e.disabled,f=d("air-datepicker-cell",`-${this.singleType}-`,{"-current-":p(n,this.date,this.type),"-min-date-":a&&p(a,this.date,this.type),"-max-date-":o&&p(o,this.date,this.type)}),m="";switch(this.type){case i.days:m=d({"-weekend-":this.dp.isWeekend(c),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!s||h||u});break;case i.months:m=d({"-disabled-":h||u});break;case i.years:m=d({"-other-decade-":this.isOtherDecade,"-disabled-":h||this.isOtherDecade&&!r||u})}return d(f,m,null===(t=this.customData)||void 0===t?void 0:t.classes)}_getHtml(){var e;let{year:t,month:n,date:s}=l(this.date),{showOtherMonths:r,showOtherYears:a}=this.opts;if(null!==(e=this.customData)&&void 0!==e&&e.html)return this.customData.html;switch(this.type){case i.days:return!r&&this.isOtherMonth?"":s;case i.months:return this.dp.locale[this.opts.monthsField][n];case i.years:return!a&&this.isOtherDecade?"":t}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:t}=this.dp,{type:n,date:s}=this,{month:r,year:a,date:o}=l(s),c=n===i.days,h=n===i.years,u=!!e&&new Date(a,h?e.getMonth():r,c?o:e.getDate()),d=!!t&&new Date(a,h?t.getMonth():r,c?o:t.getDate());return e&&t?m(u,e)||f(d,t):e?m(u,e):t?f(d,t):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:e,rangeDateTo:t}=this.dp,i=d({"-in-range-":e&&t&&(n=this.date,s=e,r=t,f(n,s)&&m(n,r)),"-range-from-":e&&p(this.date,e,this.type),"-range-to-":t&&p(this.date,t,this.type)});var n,s,r;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),i&&this.$cell.classList.add(...i.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){p(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function M(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let E={[i.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${i.days}-"></div>`,[i.months]:`<div class="air-datepicker-body--cells -${i.months}-"></div>`,[i.years]:`<div class="air-datepicker-body--cells -${i.years}-"></div>`};const L=".air-datepicker-cell";class ${constructor(e){let{dp:t,type:n,opts:s}=e;M(this,"handleClick",e=>{let t=e.target.closest(L).adpCell;if(t.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let i=this.dp._checkIfDateIsSelected(t.date,t.type);i?this.dp._handleAlreadySelectedDates(i,t.date):this.dp.selectDate(t.date)}),M(this,"handleDayNameClick",e=>{let t=e.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(t),datepicker:this.dp})}),M(this,"onChangeCurrentView",e=>{e!==this.type?this.hide():(this.show(),this.render())}),M(this,"onMouseOverCell",e=>{let t=b(e.target,L);this.dp.setFocusDate(!!t&&t.adpCell.date)}),M(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),M(this,"onClickBody",e=>{let{onClickDayName:t}=this.opts,i=e.target;i.closest(L)&&this.handleClick(e),t&&i.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(e)}),M(this,"onMouseDown",e=>{this.pressed=!0;let t=b(e.target,L),i=t&&t.adpCell;p(i.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),p(i.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),M(this,"onMouseMove",e=>{if(!this.pressed||!this.dp.isMinViewReached)return;e.preventDefault();let t=b(e.target,L),i=t&&t.adpCell,{selectedDates:n,rangeDateTo:s,rangeDateFrom:r}=this.dp;if(!i||i.isDisabled)return;let{date:a}=i;if(2===n.length){if(this.rangeFromFocused&&!f(a,s)){let{hours:e,minutes:t}=l(r);a.setHours(e),a.setMinutes(t),this.dp.rangeDateFrom=a,this.dp.replaceDate(r,a)}if(this.rangeToFocused&&!m(a,r)){let{hours:e,minutes:t}=l(s);a.setHours(e),a.setMinutes(t),this.dp.rangeDateTo=a,this.dp.replaceDate(s,a)}}}),M(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),M(this,"onChangeViewDate",(e,t)=>{if(!this.isVisible)return;let n=u(e),s=u(t);switch(this.dp.currentView){case i.days:if(p(e,t,i.months))return;break;case i.months:if(p(e,t,i.years))return;break;case i.years:if(n[0]===s[0]&&n[1]===s[1])return}this.render()}),M(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(e=>{this.$cells.appendChild(e.render())})}),this.dp=t,this.type=n,this.opts=s,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:t}=this.opts;g(this.$el,"mouseover",this.onMouseOverCell),g(this.$el,"mouseout",this.onMouseOutCell),g(this.$el,"click",this.onClickBody),e&&t&&(g(this.$el,"mousedown",this.onMouseDown),g(this.$el,"mousemove",this.onMouseMove),g(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=r({className:`air-datepicker-body -${this.type}-`,innerHtml:E[this.type]}),this.$names=s(".air-datepicker-body--day-names",this.$el),this.$cells=s(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dp.locale.firstDay,t="",n=this.dp.isWeekend,{onClickDayName:s}=this.opts,r=e,a=0;for(;a<7;){let e=r%7;t+=`<div class="${d("air-datepicker-body--day-name",{[i.cssClassWeekend]:n(e),"-clickable-":!!s})}" data-day-index='${e}'>${this.dp.locale.daysMin[e]}</div>`,a++,r++}return t}_getDaysCells(){let{viewDate:e,locale:{firstDay:t}}=this.dp,i=o(e),{year:n,month:s}=l(e),r=new Date(n,s,1),a=new Date(n,s,i),c=r.getDay()-t,h=6-a.getDay()+t;c=c<0?c+7:c,h=h>6?h-7:h;let u=function(e,t){let{year:i,month:n,date:s}=l(e);return new Date(i,n,s-t)}(r,c),d=i+c+h,p=u.getDate(),{year:f,month:m}=l(u),v=0;for(;v<d;){let e=new Date(f,m,p+v);this._generateCell(e),v++}}_generateCell(e){let{type:t,dp:i,opts:n}=this,s=new _({type:t,dp:i,opts:n,date:e,body:this});return this.cells.push(s),s}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:e}=this.dp.parsedViewDate,t=0;for(;t<12;)this.cells.push(this._generateCell(new Date(e,t))),t++}_generateYearCells(){let e=u(this.dp.viewDate),t=e[0]-1,i=e[1]+1,n=t;for(;n<=i;)this.cells.push(this._generateCell(new Date(n,0))),n++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case i.days:this._generateDayCells();break;case i.months:this._generateMonthCells();break;case i.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(e=>e.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}}function T(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class O{constructor(e){let{dp:t,opts:i}=e;T(this,"onClickNav",e=>{let t=b(e.target,".air-datepicker-nav--action");if(!t)return;let i=t.dataset.action;this.dp[i]()}),T(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),T(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),T(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),T(this,"update",()=>{let{prevHtml:e,nextHtml:t}=this.opts;this.$prev.innerHTML=e,this.$next.innerHTML=t,this._resetNavStatus(),this.render(),this.handleNavStatus()}),T(this,"renderDelay",()=>{setTimeout(this.render)}),T(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(e,t){for(let i in t)t[i]?e.classList.add(i):e.classList.remove(i)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=t,this.opts=i,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=s(".air-datepicker-nav--title",this.$el),this.$prev=s('[data-action="prev"]',this.$el),this.$next=s('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=r({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:t}=this,i=t.navTitles[e.currentView];return"function"==typeof i?i(e):e.formatDate(e.viewDate,i)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:t,maxDate:n}=this.dp;if(!t&&!n||!e)return;let{year:s,month:r}=this.dp.parsedViewDate,a=!!t&&l(t),o=!!n&&l(n);switch(this.dp.currentView){case i.days:t&&a.month>=r&&a.year>=s&&this._disableNav("prev"),n&&o.month<=r&&o.year<=s&&this._disableNav("next");break;case i.months:t&&a.year>=s&&this._disableNav("prev"),n&&o.year<=s&&this._disableNav("next");break;case i.years:{let e=u(this.dp.viewDate);t&&a.year>=e[0]&&this._disableNav("prev"),n&&o.year<=e[1]&&this._disableNav("next");break}}}_disableNav(e){s('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){!function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];e.length?e.forEach(e=>{e.classList.remove(...i)}):e.classList.remove(...i)}(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:t}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${e}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${t}</div>`}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find(t=>"function"==typeof e[t])}}var x={today:{content:e=>e.locale.today,onClick:e=>e.setViewDate(new Date)},clear:{content:e=>e.locale.clear,onClick:e=>e.clear()}};class F{constructor(e){let{dp:t,opts:i}=e;this.dp=t,this.opts=i,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=r({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach(e=>{let t=e;"string"==typeof e&&x[e]&&(t=x[e]);let i=this.createButton(t);t.onClick&&this.attachEventToButton(i,t.onClick),this.$el.appendChild(i)})}attachEventToButton(e,t){e.addEventListener("click",()=>{t(this.dp)})}createButton(e){let{content:t,className:i,tagName:n="button",attrs:s={}}=e;return r({tagName:n,innerHtml:`<span tabindex='-1'>${"function"==typeof t?t(this.dp):t}</span>`,className:d("air-datepicker-button",i),attrs:s})}render(){this.generateButtons()}}function A(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class V{constructor(){let{opts:e,dp:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(this,"toggleTimepickerIsActive",e=>{this.dp.timepickerIsActive=e}),A(this,"onChangeSelectedDate",e=>{let{date:t,updateTime:i=!1}=e;t&&(this.setMinMaxTime(t),this.setCurrentTime(!!i&&t),this.addTimeToDate(t))}),A(this,"onChangeLastSelectedDate",e=>{e&&(this.setTime(e),this.render())}),A(this,"onChangeInputRange",e=>{let t=e.target;this[t.getAttribute("name")]=t.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),A(this,"onMouseEnterLeave",e=>{let t=e.target.getAttribute("name"),i=this.$minutesText;"hours"===t&&(i=this.$hoursText),i.classList.toggle("-focus-")}),A(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),A(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=e,this.dp=t;let{timeFormat:n}=this.dp.locale;n&&(n.match(C("h"))||n.match(C("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),g(this.$ranges,e,this.onChangeInputRange),g(this.$ranges,"mouseenter",this.onMouseEnterLeave),g(this.$ranges,"mouseleave",this.onMouseEnterLeave),g(this.$ranges,"focus",this.onFocus),g(this.$ranges,"mousedown",this.onFocus),g(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=r({className:d("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:t,displayHours:i,minutes:n,minHours:s,minMinutes:r,maxHours:a,maxMinutes:o,dayPeriod:l,opts:{hoursStep:c,minutesStep:u}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${h(i)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${h(n)}</span>   `+(e?`<span class='air-datepicker-time--current-ampm'>${l}</span>`:"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+`      <input type="range" name="hours" value="${t}" min="${s}" max="${a}" step="${c}"/>   </div>   <div class="air-datepicker-time--row">`+`      <input type="range" name="minutes" value="${n}" min="${r}" max="${o}" step="${u}"/>   </div></div>`}defineDOM(){let e=e=>s(e,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:t,maxDate:i}=this.dp;t&&p(e,t)&&this.setMinTimeFromMinDate(t),i&&p(e,i)&&this.setMaxTimeFromMaxDate(i)}}setCurrentTime(e){let{hours:t,minutes:i}=e?l(e):this;this.hours=w(t,this.minHours,this.maxHours),this.minutes=w(i,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:t,maxHours:i,maxMinutes:n}=this.opts;this.minHours=w(e,0,23),this.minMinutes=w(t,0,59),this.maxHours=w(i,0,23),this.maxMinutes=w(n,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:t}=this.dp;this.minHours=e.getHours(),t&&t.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:t}=this.dp;this.maxHours=e.getHours(),t&&t.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}updateSliders(){a(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,a(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=h(this.displayHours),this.$minutesText.innerHTML=h(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:t,dayPeriod:i}=c(e);this.displayHours=this.ampm?t:e,this.dayPeriod=i}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function j(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class I{constructor(e){let{dp:t,opts:i}=e;j(this,"pressedKeys",new Set),j(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],e=>e.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],e=>e.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],e=>e.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],e=>e.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],e=>e.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],e=>e.year-=10],[["Control","Shift","ArrowUp"],(e,t)=>t.up()]])),j(this,"handleHotKey",e=>{let t=this.hotKeys.get(e),i=l(this.getInitialFocusDate());t(i,this.dp);let{year:n,month:s,date:r}=i,a=o(new Date(n,s));a<r&&(r=a);let c=this.dp.getClampedDate(new Date(n,s,r));this.dp.setFocusDate(c,{viewDateTransition:!0})}),j(this,"isHotKeyPressed",()=>{let e=!1,t=this.pressedKeys.size,i=e=>this.pressedKeys.has(e);for(let[n]of this.hotKeys){if(e)break;if(Array.isArray(n[0]))n.forEach(s=>{e||t!==s.length||(e=s.every(i)&&n)});else{if(t!==n.length)continue;e=n.every(i)&&n}}return e}),j(this,"isArrow",e=>e>=37&&e<=40),j(this,"onKeyDown",e=>{let{key:t,which:i}=e,{dp:n,dp:{focusDate:s},opts:r}=this;this.registerKey(t);let a=this.isHotKeyPressed();if(a)return e.preventDefault(),void this.handleHotKey(a);if(this.isArrow(i))return e.preventDefault(),void this.focusNextCell(t);if("Enter"===t){if(n.currentView!==r.minView)return void n.down();if(s){let e=n._checkIfDateIsSelected(s);return void(e?n._handleAlreadySelectedDates(e,s):n.selectDate(s))}}"Escape"===t&&this.dp.hide()}),j(this,"onKeyUp",e=>{this.removeKey(e.key)}),this.dp=t,this.opts=i,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:t,selectedDates:n,parsedViewDate:{year:s,month:r}}=this.dp,a=e||n[n.length-1];if(!a)switch(t){case i.days:a=new Date(s,r,(new Date).getDate());break;case i.months:a=new Date(s,r,1);break;case i.years:a=new Date(s,0,1)}return a}focusNextCell(e){let t=this.getInitialFocusDate(),{currentView:n}=this.dp,{days:s,months:r,years:a}=i,o=l(t),c=o.year,h=o.month,u=o.date;switch(e){case"ArrowLeft":n===s&&(u-=1),n===r&&(h-=1),n===a&&(c-=1);break;case"ArrowUp":n===s&&(u-=7),n===r&&(h-=3),n===a&&(c-=4);break;case"ArrowRight":n===s&&(u+=1),n===r&&(h+=1),n===a&&(c+=1);break;case"ArrowDown":n===s&&(u+=7),n===r&&(h+=3),n===a&&(c+=4)}let d=this.dp.getClampedDate(new Date(c,h,u));this.dp.setFocusDate(d,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let P={on(e,t){this.__events||(this.__events={}),this.__events[e]?this.__events[e].push(t):this.__events[e]=[t]},off(e,t){this.__events&&this.__events[e]&&(this.__events[e]=this.__events[e].filter(e=>e!==t))},removeAllEvents(){this.__events={}},trigger(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.__events&&this.__events[e]&&this.__events[e].forEach(e=>{e(...i)})}};function H(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let N="",q="",R=!1;class B{static buildGlobalContainer(e){R=!0,N=r({className:e,id:e}),s("body").appendChild(N)}constructor(e,t){var a=this;if(H(this,"viewIndexes",[i.days,i.months,i.years]),H(this,"next",()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(e,t+1,1));break;case i.months:this.setViewDate(new Date(e+1,t,1));break;case i.years:this.setViewDate(new Date(e+10,0,1))}}),H(this,"prev",()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(e,t-1,1));break;case i.months:this.setViewDate(new Date(e-1,t,1));break;case i.years:this.setViewDate(new Date(e-10,0,1))}}),H(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),H(this,"setPosition",(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"==typeof(e=e||a.opts.position))return void(a.customHide=e({$datepicker:a.$datepicker,$target:a.$el,$pointer:a.$pointer,isViewChange:t,done:a._finishHide}));let i,n,{isMobile:s}=a.opts,r=a.$el.getBoundingClientRect(),o=a.$el.getBoundingClientRect(),l=a.$datepicker.offsetParent,c=a.$el.offsetParent,h=a.$datepicker.getBoundingClientRect(),u=e.split(" "),d=window.scrollY,p=window.scrollX,f=a.opts.offset,m=u[0],v=u[1];if(s)a.$datepicker.style.cssText="left: 50%; top: 50%";else{if(l===c&&l!==document.body&&(o={top:a.$el.offsetTop,left:a.$el.offsetLeft,width:r.width,height:a.$el.offsetHeight},d=0,p=0),l!==c&&l!==document.body){let e=l.getBoundingClientRect();o={top:r.top-e.top,left:r.left-e.left,width:r.width,height:r.height},d=0,p=0}switch(m){case"top":i=o.top-h.height-f;break;case"right":n=o.left+o.width+f;break;case"bottom":i=o.top+o.height+f;break;case"left":n=o.left-h.width-f}switch(v){case"top":i=o.top;break;case"right":n=o.left+o.width-h.width;break;case"bottom":i=o.top+o.height-h.height;break;case"left":n=o.left;break;case"center":/left|right/.test(m)?i=o.top+o.height/2-h.height/2:n=o.left+o.width/2-h.width/2}a.$datepicker.style.cssText=`left: ${n+p}px; top: ${i+d}px`}})),H(this,"_setInputValue",()=>{let{opts:e,$altField:t,locale:{dateFormat:i}}=this,{altFieldDateFormat:n,altField:s}=e;s&&t&&(t.value=this._getInputValue(n)),this.$el.value=this._getInputValue(i)}),H(this,"_getInputValue",e=>{let{selectedDates:t,opts:i}=this,{multipleDates:n,multipleDatesSeparator:s}=i;if(!t.length)return"";let r="function"==typeof e,a=r?e(n?t:t[0]):t.map(t=>this.formatDate(t,e));return a=r?a:a.join(s),a}),H(this,"_checkIfDateIsSelected",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.days,n=!1;return a.selectedDates.some(i=>{let s=p(e,i,t);return n=s&&i,s}),n})),H(this,"_scheduleCallAfterTransition",e=>{this._cancelScheduledCall(),e&&e(!1),this._onTransitionEnd=()=>{e&&e(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),H(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),H(this,"setViewDate",e=>{if(!((e=k(e))instanceof Date))return;if(p(e,this.viewDate))return;let t=this.viewDate;this.viewDate=e;let{onChangeViewDate:n}=this.opts;if(n){let{month:e,year:t}=this.parsedViewDate;n({month:e,year:t,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,e,t)}),H(this,"setFocusDate",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!e||(e=k(e))instanceof Date)&&(a.focusDate=e,a.opts.range&&e&&a._handleRangeOnFocus(),a.trigger(i.eventChangeFocusDate,e,t))})),H(this,"setCurrentView",e=>{if(this.viewIndexes.includes(e)){if(this.currentView=e,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(i.eventChangeCurrentView,e),!this.views[e]){let t=this.views[e]=new $({dp:this,opts:this.opts,type:e});this.shouldUpdateDOM&&this.$content.appendChild(t.$el)}this.opts.onChangeView&&this.opts.onChangeView(e)}}),H(this,"_updateLastSelectedDate",e=>{this.lastSelectedDate=e,this.trigger(i.eventChangeLastSelectedDate,e)}),H(this,"destroy",()=>{let{showEvent:e,isMobile:t}=this.opts,i=this.$datepicker.parentNode;i&&i.removeChild(this.$datepicker),this.$el.removeEventListener(e,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),t&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),H(this,"update",e=>{let t=D({},this.opts);D(this.opts,e);let{timepicker:n,buttons:s,range:r,selectedDates:a,isMobile:o}=this.opts,l=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!t.selectedDates&&a&&this.selectDate(a),e.view&&this.setCurrentView(e.view),this._setInputValue(),t.range&&!r?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!t.range&&r&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),t.timepicker&&!n?(l&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!t.timepicker&&n&&this._addTimepicker(),!t.buttons&&s?this._addButtons():t.buttons&&!s?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):l&&t.buttons&&s&&this.buttons.clearHtml().render(),!t.isMobile&&o?(this.treatAsInline||q||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):t.isMobile&&!o&&(this._removeMobileAttributes(),this.visible&&(q.classList.remove("-active-"),"function"!=typeof this.opts.position&&this.setPosition())),l&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===i.days&&this.views[this.currentView].renderDayNames())}),H(this,"isOtherMonth",e=>{let{month:t}=l(e);return t!==this.parsedViewDate.month}),H(this,"isOtherYear",e=>{let{year:t}=l(e);return t!==this.parsedViewDate.year}),H(this,"isOtherDecade",e=>{let{year:t}=l(e),[i,n]=u(this.viewDate);return t<i||t>n}),H(this,"_onChangeSelectedDate",e=>{let{silent:t}=e;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!t&&this._triggerOnSelect()})}),H(this,"_onChangeFocusedDate",(function(e){let{viewDateTransition:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let i=!1;t&&(i=a.isOtherMonth(e)||a.isOtherYear(e)||a.isOtherDecade(e)),i&&a.setViewDate(e)})),H(this,"_onChangeTime",e=>{let{hours:t,minutes:i}=e,n=new Date,{lastSelectedDate:s,opts:{onSelect:r}}=this,a=s;s||(a=n);let o=this.getCell(a,this.currentViewSingular),l=o&&o.adpCell;l&&l.isDisabled||(a.setHours(t),a.setMinutes(i),s?(this._setInputValue(),r&&this._triggerOnSelect()):this.selectDate(a))}),H(this,"_onFocus",e=>{this.visible||this.show()}),H(this,"_onBlur",e=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),H(this,"_onMouseDown",e=>{this.inFocus=!0}),H(this,"_onMouseUp",e=>{this.inFocus=!1,this.$el.focus()}),H(this,"_onResize",()=>{this.visible&&"function"!=typeof this.opts.position&&this.setPosition()}),H(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),H(this,"isWeekend",e=>this.opts.weekends.includes(e)),H(this,"getClampedDate",e=>{let{minDate:t,maxDate:i}=this,n=e;return i&&f(e,i)?n=i:t&&m(e,t)&&(n=t),n}),this.$el=s(e),!this.$el)return;this.$datepicker=r({className:"air-datepicker"}),this.opts=D({},n,t),this.$customContainer=!!this.opts.container&&s(this.opts.container),this.$altField=s(this.opts.altField||!1);let{view:o,startDate:c}=this.opts;c||(this.opts.startDate=new Date),"INPUT"===this.$el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=k(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=o,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:t,opts:{inline:i,isMobile:n,selectedDates:r,keyboardNav:a,onlyTimepicker:o}}=this,l=s("body");(!R||R&&N&&!l.contains(N))&&!i&&this.elIsInput&&!this.$customContainer&&B.buildGlobalContainer(B.defaultGlobalContainerId),!n||q||t||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(i||this._bindEvents(),a&&!o&&(this.keyboardNav=new I({dp:this,opts:e}))),r&&this.selectDate(r,{silent:!0}),this.opts.visible&&!t&&this.show(),n&&!t&&this.$el.setAttribute("readonly",!0),t&&this._createComponents()}_createMobileOverlay(){q=r({className:"air-datepicker-overlay"}),N.appendChild(q)}_createComponents(){let{opts:e,treatAsInline:t,opts:{inline:i,buttons:n,timepicker:s,position:r,classes:a,onlyTimepicker:o,isMobile:l}}=this;this._buildBaseHtml(),this.elIsInput&&(i||this._setPositionClasses(r)),!i&&this.elIsInput||this.$datepicker.classList.add("-inline-"),a&&this.$datepicker.classList.add(...a.split(" ")),o&&this.$datepicker.classList.add("-only-timepicker-"),l&&!t&&this._addMobileAttributes(),this.views[this.currentView]=new $({dp:this,type:this.currentView,opts:e}),this.nav=new O({dp:this,opts:e}),s&&this._addTimepicker(),n&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){q.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){q.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||""===this.initialReadonly||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:t}=this.opts;this.minDate=!!e&&k(e),this.maxDate=!!t&&k(t)}_addTimepicker(){this.$timepicker=r({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new V({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=r({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new F({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var t,i;this.elIsInput?e?(t=this.$datepicker,(i=this.$el).parentNode.insertBefore(t,i.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=s(".air-datepicker--content",this.$datepicker),this.$pointer=s(".air-datepicker--pointer",this.$datepicker),this.$nav=s(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:t,firstDay:i,timepicker:n,onlyTimepicker:s,timeFormat:r,dateTimeSeparator:a}=this.opts;var o;this.locale=(o=e,JSON.parse(JSON.stringify(o))),t&&(this.locale.dateFormat=t),void 0!==r&&""!==r&&(this.locale.timeFormat=r);let{timeFormat:l}=this.locale;if(""!==i&&(this.locale.firstDay=i),n&&"function"!=typeof t){let e=l?a:"";this.locale.dateFormat=[this.locale.dateFormat,l||""].join(e)}s&&"function"!=typeof t&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if("function"==typeof e)return void this.$datepicker.classList.add("-custom-position-");let t=(e=e.split(" "))[0],i=`air-datepicker -${t}-${e[1]}- -from-${t}-`;this.$datepicker.classList.add(...i.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:t,maxDate:i}=this;i&&f(e,i)&&this.setViewDate(i),t&&m(e,t)&&this.setViewDate(t)}formatDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewDate,t=arguments.length>1?arguments[1]:void 0;if(e=k(e),!(e instanceof Date))return;let i=t,n=this.locale,s=l(e),r=s.dayPeriod,a=u(e),o=B.replacer,c={T:e.getTime(),m:s.minutes,mm:s.fullMinutes,h:s.hours12,hh:s.fullHours12,H:s.hours,HH:s.fullHours,aa:r,AA:r.toUpperCase(),E:n.daysShort[s.day],EEEE:n.days[s.day],d:s.date,dd:s.fullDate,M:s.month+1,MM:s.fullMonth,MMM:n.monthsShort[s.month],MMMM:n.months[s.month],yy:s.year.toString().slice(-2),yyyy:s.year,yyyy1:a[0],yyyy2:a[1]};for(let[e,t]of Object.entries(c))i=o(i,C(e),t);return i}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currentView:s,parsedViewDate:r,selectedDates:a}=this,{updateTime:o}=n,{moveToOtherMonthsOnSelect:l,moveToOtherYearsOnSelect:c,multipleDates:h,range:u,autoClose:d}=this.opts,p=a.length;if(Array.isArray(e))return e.forEach(e=>{this.selectDate(e,n)}),new Promise(e=>{setTimeout(e)});if((e=k(e))instanceof Date){if(s===i.days&&e.getMonth()!==r.month&&l&&(t=new Date(e.getFullYear(),e.getMonth(),1)),s===i.years&&e.getFullYear()!==r.year&&c&&(t=new Date(e.getFullYear(),0,1)),t&&this.setViewDate(t),h&&!u){if(p===h)return;this._checkIfDateIsSelected(e)||a.push(e)}else if(u)switch(p){case 1:a.push(e),this.rangeDateTo||(this.rangeDateTo=e),f(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:null==n?void 0:n.silent,date:e,updateTime:o}),this._updateLastSelectedDate(e),d&&!this.timepickerIsActive&&this.visible&&(h||u?u&&1===p&&this.hide():this.hide()),new Promise(e=>{setTimeout(e)})}}unselectDate(e){let t=this.selectedDates,n=this;if((e=k(e))instanceof Date)return t.some((s,r)=>{if(p(s,e))return t.splice(r,1),n.selectedDates.length?n._updateLastSelectedDate(n.selectedDates[n.selectedDates.length-1]):(n.rangeDateFrom="",n.rangeDateTo="",n._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:e}),!0})}replaceDate(e,t){let n=this.selectedDates.find(t=>p(t,e,this.currentView)),s=this.selectedDates.indexOf(n);s<0||p(this.selectedDates[s],t,this.currentView)||(this.selectedDates[s]=t,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:t,updateTime:!0}),this._updateLastSelectedDate(t))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,silent:e.silent}),new Promise(e=>{setTimeout(e)})}show(){let{onShow:e,isMobile:t}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),t&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:t}=this.opts,i=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(t=>{!this.customHide&&(t&&i||!t&&!i)&&this._finishHide(),e&&e(t)}),t&&q.classList.remove("-active-")}_triggerOnSelect(){let e=[],t=[],{selectedDates:i,locale:n,opts:{onSelect:s,multipleDates:r,range:a}}=this,o=r||a,l="function"==typeof n.dateFormat;i.length&&(e=i.map(v),t=l?r?n.dateFormat(e):e.map(e=>n.dateFormat(e)):e.map(e=>this.formatDate(e,n.dateFormat))),s({date:o?e:e[0],formattedDate:o?t:t[0],datepicker:this})}_handleAlreadySelectedDates(e,t){let{range:i,toggleSelected:n}=this.opts;i?n?this.unselectDate(t):2!==this.selectedDates.length&&this.selectDate(t):n&&this.unselectDate(t),n||this._updateLastSelectedDate(e)}_handleUpDownActions(e,t){if(!((e=k(e||this.focusDate||this.viewDate))instanceof Date))return;let i="up"===t?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),i<0&&(i=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[i])}_handleRangeOnFocus(){1===this.selectedDates.length&&(f(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.day;if(!((e=k(e))instanceof Date))return;let{year:n,month:s,date:r}=l(e),a=`[data-year="${n}"]`,o=`[data-month="${s}"]`,c={[i.day]:`${a}${o}[data-date="${r}"]`,[i.month]:`${a}${o}`,[i.year]:""+a};return this.views[this.currentView].$el.querySelector(c[t])}_showMobileOverlay(){q.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((e,t)=>parseFloat(t)+e,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return l(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return u(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||N}static replacer(e,t,i){return e.replace(t,(function(e,t,n,s){return t+i+s}))}}var U;return H(B,"defaults",n),H(B,"version","3.3.5"),H(B,"defaultGlobalContainerId","air-datepicker-global-container"),U=B.prototype,Object.assign(U,P),t.default}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],daysShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy",clear:"Limpiar",dateFormat:"dd/MM/yyyy",timeFormat:"hh:mm aa",firstDay:1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={days:["الأحد","الأثنين","الثلاثاء","الأربعاء","الخميس","الجمعه","السبت"],daysShort:["الأحد","الأثنين","الثلاثاء","الأربعاء","الخميس","الجمعه","السبت"],daysMin:["الأحد","الأثنين","الثلاثاء","الأربعاء","الخميس","الجمعه","السبت"],months:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","اكتوبر","نوفمبر","ديسمبر"],monthsShort:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","اكتوبر","نوفمبر","ديسمبر"],today:"اليوم",clear:"حذف",dateFormat:"dd/MM/yyyy",timeFormat:"hh:mm aa",firstDay:0}},function(e,t,i){i(0),e.exports=i(7)},function(e,t,i){var n=function(e){"use strict";var t=Object.prototype,i=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function o(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,i){return e[t]=i}}function l(e,t,i,n){var s=t&&t.prototype instanceof u?t:u,r=Object.create(s.prototype),a=new C(n||[]);return r._invoke=function(e,t,i){var n="suspendedStart";return function(s,r){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===s)throw r;return _()}for(i.method=s,i.arg=r;;){var a=i.delegate;if(a){var o=w(a,i);if(o){if(o===h)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=c(e,t,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(e,i,a),r}function c(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h={};function u(){}function d(){}function p(){}var f={};o(f,s,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==t&&i.call(v,s)&&(f=v);var y=p.prototype=u.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(s,r){function a(){return new t((function(n,a){!function n(s,r,a,o){var l=c(e[s],e,r);if("throw"!==l.type){var h=l.arg,u=h.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(u).then((function(e){h.value=e,a(h)}),(function(e){return n("throw",e,a,o)}))}o(l.arg)}(s,r,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=c(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var s=n.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function S(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,o(y,"constructor",p),o(p,"constructor",d),d.displayName=o(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),o(b.prototype,r,(function(){return this})),e.AsyncIterator=b,e.async=function(t,i,n,s,r){void 0===r&&(r=Promise);var a=new b(l(t,i,n,s),r);return e.isGeneratorFunction(i)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),o(y,a,"Generator"),o(y,s,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(i,n){return a.type="throw",a.arg=e,t.next=i,n&&(t.method="next",t.arg=void 0),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var r=this.tryEntries[s],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var o=i.call(r,"catchLoc"),l=i.call(r,"finallyLoc");if(o&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&i.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),k(i),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var s=n.arg;k(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:S(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},e}(e.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t,i){"use strict";i.r(t);i(6);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,s,r=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw s}}return r}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function a(e,t,i,n,s,r,a){try{var o=e[r](a),l=o.value}catch(e){return void i(e)}o.done?t(l):Promise.resolve(l).then(n,s)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(n,s){var r=e.apply(t,i);function o(e){a(r,n,s,o,l,"next",e)}function l(e){a(r,n,s,o,l,"throw",e)}o(void 0)}))}}function l(){return c.apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function e(){var t,i,n,s,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",i=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]?a[2]:"POST",s={method:n,cache:"no-store",headers:{"Content-Type":"application/json","X-WP-Nonce":rgbcode_authform.nonce}},"GET"!==n&&(s.body=JSON.stringify(i)),e.next=7,fetch(t,s);case 7:return r=e.sent,e.abrupt("return",r.json());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t,i={},r=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=s(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(l)throw a}}}}(new FormData(e));try{for(r.s();!(t=r.n()).done;){var a=n(t.value,2),o=a[0],l=a[1];i[o]=l}}catch(e){r.e(e)}finally{r.f()}return i}function u(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return!!t&&decodeURIComponent(t[1])}function d(){return p.apply(this,arguments)}function p(){return(p=o(regeneratorRuntime.mark((function e(){var t,i,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(rgbcode_authform.url,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:new URLSearchParams({action:"authform_get_refreshed_nonce"}).toString(),credentials:"same-origin"});case 3:return s=e.sent,e.next=6,s.json();case 6:return s=e.sent,e.abrupt("return",null!==(t=null===(i=s)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.nonce)&&void 0!==t?t:"");case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return","");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var f=i(0);function m(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"defaultAction","forexSignup"),v(this,"allowedActions",{forexSignup:"rgbcode-signup",forexLogin:"rgbcode-login"}),this.html=document.querySelector("html"),this.modalWrap=document.querySelector(".rgbcode-authform-back"),this.bindEvents()}var t,i,n;return t=e,(i=[{key:"showModal",value:function(e){if(this.html.style.overflow="hidden",this.modalWrap.classList.remove(f.Constants.hideClass),e){var t=this.modalWrap.querySelector("#".concat(e));t&&t.classList.remove(f.Constants.hideClass)}}},{key:"hideModal",value:function(){this.html.style.overflow="",this.modalWrap.querySelectorAll(".rgbcode-authform-modal").forEach((function(e){e.classList.add(f.Constants.hideClass)})),this.modalWrap.classList.add(f.Constants.hideClass)}},{key:"bindEvents",value:function(){this.openButtons(),this.closeButtons(),this.closeMsgButton()}},{key:"openButtons",value:function(){var e=this,t=document.querySelectorAll(".js-rgbcode-authform");t.length&&t.forEach((function(t){t.addEventListener("click",(function(i){var n,s=null!==(n=t.dataset.onlyDesktop)&&void 0!==n&&n,r=document.querySelector("panda-forex-menu .mainpandats");if(!(s&&window.innerWidth<=1024||r)){i.preventDefault();var a=t.dataset.target;e.showModal(a)}}))}))}},{key:"closeButtons",value:function(){var e=this,t=this.modalWrap.querySelectorAll(".rgbcode-authform-modal__close");t&&t.forEach((function(t){t.addEventListener("click",(function(){e.hideModal()}))}))}},{key:"closeMsgButton",value:function(){var e=this.modalWrap.querySelector(".rgbcode-authform-message__close");e&&e.addEventListener("click",(function(t){e.parentElement.classList.add(f.Constants.hideClass)}))}},{key:"autoOpen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new URLSearchParams(document.location.search),n=i.get("action");n=e&&n?e:n,this.allowedActions.personDetailsForm=t?"rgbcode-deposit":"",n&&this.allowedActions.hasOwnProperty(n)&&this.showModal(this.allowedActions[n])}}])&&m(t.prototype,i),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,s,r=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw s}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"nameTest",value:function(e){return/^[\u0600-\u06FFa-zA-Z]{3,40}(\s[\u0600-\u06FFa-zA-Z]{1,40})?(\s[\u0600-\u06FFa-zA-Z]{1,40})?$/.test(e)}},{key:"emailTest",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.){1,2}[a-zA-Z]{2,}))$/.test(e)}},{key:"phoneTest",value:function(e){return/^[0-9]{6,}$/.test(e)}},{key:"textTest",value:function(e){return/^[^\s](?=.*[\u0600-\u06FFa-zA-Z0-9À-ÖØ-öø-ÿ])[\u0600-\u06FFa-zA-Z0-9À-ÖØ-öø-ÿ ]{1,100}$/.test(e)}},{key:"addressTest",value:function(e){return/^[a-zA-Z0-9\s:#;,./"À-ÖØ-öø-ÿ\-]{2,100}$/.test(e)}},{key:"checkPass",value:function(e){return/^[a-zA-Z0-9]{6,}$/.test(e)}},{key:"limitPhone",value:function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[\D]/g,""),t.value.length>10&&(t.value=t.value.substr(0,10))}))}},{key:"checkCurrency",value:function(e){return 3===e.length}},{key:"checkAge",value:function(e){var t=g(e.split("/").map(Number),3),i=t[0],n=t[1],s=t[2],r=new Date(s,n-1,i),a=new Date,o=a.getFullYear()-r.getFullYear();return a.getMonth()>r.getMonth()||a.getMonth()===r.getMonth()&&a.getDate()>=r.getDate()||o--,o>=18&&o<=100}}])&&w(t.prototype,i),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elem=t}var t,i,n;return t=e,(i=[{key:"show",value:function(){this.elem.classList.remove(f.Constants.hideClass)}},{key:"hide",value:function(){this.elem.classList.add(f.Constants.hideClass)}}])&&k(t.prototype,i),n&&k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=function(){function e(t){var i,n,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s=0,(n="count")in(i=this)?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,this.length=t.querySelector("#rgbc-length"),this.lowercase=t.querySelector("#rgbc-lower"),this.uppercase=t.querySelector("#rgbc-upper"),this.number=t.querySelector("#rgbc-num"),this.chars=t.querySelector("#rgbc-chars"),this.tooltip=new C(t.querySelector(".rgbcode-authform-tooltip"))}var t,i,n;return t=e,(i=[{key:"checkPass",value:function(e){return this.count=0,this.checkCountChar(e)?this.successCheck(this.length):this.failCheck(this.length),this.checkIfOneLowercase(e)?this.successCheck(this.lowercase):this.failCheck(this.lowercase),this.checkIfOneUppercase(e)?this.successCheck(this.uppercase):this.failCheck(this.uppercase),this.checkIfOneDigit(e)?this.successCheck(this.number):this.failCheck(this.number),this.checkOnlyChars(e)?this.successCheck(this.chars):this.failCheck(this.chars),5===this.count}},{key:"successCheck",value:function(e){e.classList.add(f.Constants.validClass),this.count++}},{key:"failCheck",value:function(e){e.classList.remove(f.Constants.validClass),this.count--}},{key:"checkCountChar",value:function(e){return e.length>=6&&e.length<=12}},{key:"checkIfOneLowercase",value:function(e){return/[a-z]/.test(e)}},{key:"checkIfOneUppercase",value:function(e){return/[A-Z]/.test(e)}},{key:"checkIfOneDigit",value:function(e){return/[0-9]/.test(e)}},{key:"checkOnlyChars",value:function(e){return/^\w+$/.test(e)}}])&&S(t.prototype,i),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var $=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];M(this,e),L(this,"excludeValidate",[]),this.form=t,this.inputs=this.form.querySelectorAll(".rgbcode-authform-input__label input, .rgbcode-authform-input__label select"),this.submits=this.form.querySelectorAll("button[type=submit]"),this.checks=new D,this.checkStatuses=this.createCheckStatuses(),this.passCreate=i,this.initValidate()}var t,i,n;return t=e,(i=[{key:"initValidate",value:function(){var e=this;this.inputs&&this.inputs.forEach((function(t){if(!e.excludeValidate.includes(t.name))switch(t.name){case"firstname":case"lastname":e.enableValidation("nameTest",t);break;case"email":e.enableValidation("emailTest",t);break;case"phone":e.checks.limitPhone(t),e.enableValidation("phoneTest",t);break;case"password":e.passCreate?e.passListeners(t):e.enableValidation("checkPass",t);break;case"agree":e.checkAgree(t);break;case"full_address":case"address":e.enableValidation("addressTest",t);break;case"postcode":case"city":e.enableValidation("textTest",t);break;case"birthday":e.checkDate(t);break;case"currency":e.checkCurrency(t)}}))}},{key:"enableValidation",value:function(e,t){var i=this;t.addEventListener("input",(function(n){i.checkInput(t,i.checks[e].call(null,n.target.value))}))}},{key:"nameHandler",value:function(e){var t=this,i=null;e.addEventListener("input",(function(){null!==i&&clearTimeout(i),i=setTimeout((function(){e.value=e.value.replaceAll(/\s/g,""),t.checkInput(e,t.checks.nameTest(e.value))}),1e3)}))}},{key:"passListeners",value:function(e){var t=this,i=new _(this.form);e.addEventListener("input",(function(){var n=i.checkPass(e.value);n?(t.checkStatuses.password=!0,i.tooltip.hide()):(t.checkStatuses.password=!1,i.tooltip.show()),t.checkInput(e,n)})),e.addEventListener("focus",(function(){t.checkStatuses.password||i.tooltip.show()})),e.addEventListener("blur",(function(){i.tooltip.hide()}))}},{key:"checkPermissionSubmit",value:function(){this.submits&&(this.isFormValidate()?this.enableSubmits():this.disableSubmits(),this.form.dispatchEvent(new CustomEvent("checkPermissionForm",{detail:{status:this.isFormValidate()}})))}},{key:"enableSubmits",value:function(){this.submits.forEach((function(e){e.disabled=!1}))}},{key:"disableSubmits",value:function(){this.submits.forEach((function(e){e.disabled=!0}))}},{key:"isFormValidate",value:function(){return!Object.values(this.checkStatuses).includes(!1)}},{key:"successValid",value:function(e){this.checkStatuses[e.name]=!0,e.classList.add(f.Constants.validClass),e.classList.remove(f.Constants.invalidClass),e.parentElement.nextElementSibling.classList.add(f.Constants.hideClass)}},{key:"unsuccessfulValid",value:function(e){this.checkStatuses[e.name]=!1,e.classList.add(f.Constants.invalidClass),e.classList.remove(f.Constants.validClass),e.parentElement.nextElementSibling.classList.remove(f.Constants.hideClass)}},{key:"checkAgree",value:function(e){var t=this;e.addEventListener("change",(function(e){t.checkStatuses.agree=e.target.checked,t.checkPermissionSubmit()}))}},{key:"checkDate",value:function(e){var t=this;e.addEventListener("change",(function(i){t.checkInput(e,t.checks.checkAge(i.target.value))}))}},{key:"checkCurrency",value:function(e){var t=this;e.addEventListener("change",(function(i){t.checkInput(e,t.checks.checkCurrency(i.target.value))}))}},{key:"createCheckStatuses",value:function(){if(!this.inputs)return{};var e={};return this.inputs.forEach((function(t){e[t.name]=!1})),e}},{key:"checkInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?this.successValid(e):this.unsuccessfulValid(e),this.checkPermissionSubmit()}}])&&E(t.prototype,i),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var x=i(2),F=i.n(x).a,A=i(1),V=i.n(A),j=i(3),I=i.n(j),P=i(4),H=i.n(P);function N(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function R(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.email=document.querySelector(".rgbcode-authform-input_email"),this.email&&(this.emailInput=this.email.querySelector("input[type=email]"),this.suggestions=this.email.querySelector(".rgbcode-authform-suggestions"),this.emailInput&&this.suggestions&&(this.tooltipSuggestions=new C(this.suggestions),this.bindEvents()))}var t,i,n;return t=e,(i=[{key:"bindEvents",value:function(){this.tabHandler(),this.suggestionsHandler(),this.emailInputHandler()}},{key:"tabHandler",value:function(){var e=this,t=document.querySelector(".rgbcode-authform-form_signup");t&&t.addEventListener("keyup",(function(t){9===t.keyCode&&(document.activeElement.parentElement.parentElement.classList.contains("rgbcode-authform-input_email")||e.tooltipSuggestions.hide())}))}},{key:"suggestionsHandler",value:function(){var e=this;N(this.suggestions.children).forEach((function(t){t.addEventListener("click",(function(i){e.emailInput.value=t.textContent,e.emailInput.dispatchEvent(new Event("input"))}))})),document.addEventListener("click",(function(t){!e.emailInput.contains(t.target)&&!e.suggestions.contains(t.target)&&e.tooltipSuggestions.hide()}))}},{key:"emailInputHandler",value:function(){var e=this;this.emailInput.addEventListener("focus",(function(){e.emailInput.value.length>0&&e.tooltipSuggestions.show()})),this.emailInput.addEventListener("input",(function(t){0!==e.emailInput.value.length?N(e.suggestions.children).forEach((function(i){var n=i.querySelector(".rgbcode-authform-suggestions__placeholder"),s=t.target.value;s.includes("@")?e.handlerEmailDomain(i,n,s):n.textContent=s})):e.tooltipSuggestions.hide()}))}},{key:"handlerEmailDomain",value:function(e,t,i){if(e&&t&&i){var n=i.split("@"),s=n[0],r="@"+n[n.length-1];t.textContent=s,e.textContent.includes(r)?e.classList.remove(f.Constants.hideClass):e.classList.add(f.Constants.hideClass)}}}])&&R(t.prototype,i),n&&R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t,i,n,s,r,a){try{var o=e[r](a),l=o.value}catch(e){return void i(e)}o.done?t(l):Promise.resolve(l).then(n,s)}function K(e){return function(){var t=this,i=arguments;return new Promise((function(n,s){var r=e.apply(t,i);function a(e){U(r,n,s,a,o,"next",e)}function o(e){U(r,n,s,a,o,"throw",e)}a(void 0)}))}}function Y(){return(Y=K(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:(t=e.sent)&&(rgbcode_authform.nonce=t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return z(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function J(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?J(Object(i),!0).forEach((function(t){X(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Z(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Q=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,"initPlacesAutocomplete",(function(){var e,t,n,s,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!r||null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.maps)||void 0===n||null===(s=n.places)||void 0===s||!s.Autocomplete)return null;var o=G({types:["address"]},a),l=new google.maps.places.Autocomplete(r,o);return l&&l.addListener("place_changed",(function(){var e=l.getPlace();e.address_components?i.fillAddressFields(e.address_components):i.showExtraFields(),i.searchInput.dispatchEvent(new Event("input"))})),l})),t&&(this.form=t,this.searchInput=this.form.querySelector(".js-address-input"),this.searchInput&&(this.btnShowExtraFields=this.form.querySelector(".js-show-extra-fields"),this.init()))}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.addListeners()}},{key:"addListeners",value:function(){this.btnShowExtraFields&&this.btnShowExtraFields.addEventListener("click",this.showExtraFields),this.initAutocomplete()}},{key:"initAutocomplete",value:function(){var e,t;null!==(e=window)&&void 0!==e&&null!==(t=e.google)&&void 0!==t&&t.maps&&this.initPlacesAutocomplete(this.searchInput,{fields:["address_components"]})}},{key:"fillAddressFields",value:function(e){if(Array.isArray(e)){var t,i={locality:"city",administrative_area_level_2:"city",route:"address",postal_code:"postcode",country:"country"},n={},s=W(e);try{for(s.s();!(t=s.n()).done;){var r,a=t.value,o=W(a.types);try{for(o.s();!(r=o.n()).done;){var l=r.value;i[l]&&(n[i[l]]="country"===l?a.short_name:a.long_name)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){s.e(e)}finally{s.f()}var c={city:this.form.querySelector("input[name=city]"),address:this.form.querySelector("input[name=address]"),postcode:this.form.querySelector("input[name=postcode]"),country:this.form.querySelector("#rgbcode-authform-deposit-country")};for(var h in c){var u=c[h];u&&n[h]&&u.value!==n[h]?u.value=n[h]:(console.log(u),u.value="",u.closest(".js-extra-field").classList.remove(f.Constants.hideClass)),u.dispatchEvent(new Event("SELECT"===u.tagName?"change":"input"))}}else console.warn("Invalid form or addressComponents")}},{key:"showExtraFields",value:function(e){var t=this.form.querySelectorAll(".js-extra-field");t&&(t.forEach((function(e){e.classList.remove(f.Constants.hideClass)})),e.target.classList.add(f.Constants.hideClass))}}])&&Z(t.prototype,i),n&&Z(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("rgbcode-authform")){var e,t=document.querySelector("#rgbcode-login"),i=document.querySelector("#rgbcode-signup"),n=document.querySelector("#rgbcode-deposit");f.Constants.storage.modal=new y,t&&new $(t),i&&new $(i,!0),n&&new $(n),function(){return Y.apply(this,arguments)}().then((function(e){!function(){var e=document.querySelector("#rgbcode-signup"),t=e?e.querySelector(".rgbcode-authform-flag-input"):null,i=function(e){if(t){var i=t.querySelector(".rgbcode-authform-flag-input__code");t.querySelector(".rgbcode-authform-flag-input__flag").src=e.src,i.dataset.iso=e.iso,i.textContent=e.code}},n=function(e){var t=document.querySelector("#rgbcode-deposit");if(t){var i=t.querySelector("#rgbcode-authform-deposit-country");i&&(i.value=e,i.dispatchEvent(new Event("change")))}},s=e?e.querySelector(".rgbcode-authform-message"):null;if(l("/wp-json/rgbcode/v1/detect_location",{},"GET").then((function(e){e.success&&(e.data.not_allowed&&s&&s.classList.remove(f.Constants.hideClass),i(e.data.country),n(e.data.country.iso),f.Constants.storage.modal.autoOpen())})).catch((function(e){console.error("Error:",e)})),e&&t){var r=t.querySelector(".rgbcode-authform-flag-input__select");t.addEventListener("click",(function(){t.classList.contains("opened")||(r.classList.remove(f.Constants.hideClass),e.classList.toggle("rgbcode-authform-modal_overflow"),t.classList.add("opened"))}));var a=t.querySelectorAll(".rgbcode-authform-flag-input__option"),o=r.querySelector("[name=search]");a&&(a.forEach((function(s){s.addEventListener("click",(function(a){a.stopPropagation(),i(s.dataset),n(s.dataset.iso),r.classList.add(f.Constants.hideClass),t.classList.remove("opened"),e.classList.toggle("rgbcode-authform-modal_overflow"),o.value="",o.dispatchEvent(new Event("input"))}))})),o.addEventListener("input",(function(e){var t=e.target.value.toLowerCase();a.forEach((function(e,i){e.textContent.toLowerCase().includes(t)?e.classList.remove(f.Constants.hideClass):e.classList.add(f.Constants.hideClass)}))}))),r.querySelector(".rgbcode-authform-close").addEventListener("click",(function(i){i.stopPropagation(),r.classList.add(f.Constants.hideClass),t.classList.remove("opened"),e.classList.toggle("rgbcode-authform-modal_overflow")}))}}(),function(){var e=document.querySelector("#rgbcode-login");if(e){var t=e.querySelector(".rgbcode-authform-form"),i=t.querySelector(".rgbcode-authform-input__error_submit");t.addEventListener("submit",(function(e){var n;e.preventDefault();var s=h(t),r=null!==(n=e.submitter)&&void 0!==n?n:t.querySelector(".rgbcode-authform-button");r.classList.add("rgbcode-authform-button_loader"),r.disabled=!0,l("/wp-json/rgbcode/v1/login",s).then((function(e){e.success?(i.classList.add(f.Constants.hideClass),location.href=e.link):(i.classList.remove(f.Constants.hideClass),i.textContent=e.message?e.message:e.data,r.classList.remove("rgbcode-authform-button_loader"),r.disabled=!1)})).catch((function(e){console.error("Error:",e)}))}))}var n=document.querySelector("#rgbcode-signup");if(n){var s=n.querySelector(".rgbcode-authform-form"),r=s.querySelector(".rgbcode-authform-flag-input__code"),a=s.querySelector(".rgbcode-authform-input__error_submit");s.addEventListener("submit",(function(e){var t;e.preventDefault();var i=h(s),n=u("referral_params"),o=null!==(t=e.submitter)&&void 0!==t?t:s.querySelector(".rgbcode-authform-button");i.phonecountry=r.textContent.trim(),i.iso=r.dataset.iso,n&&(i.referral=n.substr(1).replaceAll("&","|")),o.classList.add("rgbcode-authform-button_loader"),o.disabled=!0,l("/wp-json/rgbcode/v1/customer",i).then((function(e){e.success?(a.classList.add(f.Constants.hideClass),location.href=e.link):(a.classList.remove(f.Constants.hideClass),a.textContent=e.message?e.message:e.data,o.classList.remove("rgbcode-authform-button_loader"),o.disabled=!1)})).catch((function(e){console.error("Error:",e)}))}))}var o=document.querySelector("#rgbcode-deposit");if(o){var c=o.querySelector(".rgbcode-authform-form"),d=c.querySelector(".rgbcode-authform-input__error_submit");c.addEventListener("submit",(function(e){var t,i;e.preventDefault();var n=h(c),s=null!==(t=e.submitter)&&void 0!==t?t:c.querySelector(".rgbcode-authform-button"),r=s.classList.contains("rgbcode-authform-button_whatsapp"),a=u(f.Constants.cookieUserEmail);n.email=null!==(i=f.Constants.storage.clientEmail)&&void 0!==i?i:a,s.classList.add("rgbcode-authform-button_loader"),s.disabled=!0;var o=r?window.open():null;l("/wp-json/rgbcode/v1/customer",n,"PUT").then((function(e){e.success?(d.classList.add(f.Constants.hideClass),r&&o&&(o.location=s.dataset.href),location.href=e.link):(d.classList.remove(f.Constants.hideClass),d.textContent=e.message?e.message:e.data,s.classList.remove("rgbcode-authform-button_loader"),s.disabled=!1)})).catch((function(e){console.error("Error:",e)}))}))}}()})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#rgbcode-authform-birthday";if(void 0!==F){var t=document.querySelector(e);if(t){var i=function(){return rgbcode_authform&&{es:I.a,ar:H.a}[rgbcode_authform.lang]||V.a},n=new Date,s=new Date;s.setFullYear(n.getFullYear()-18),f.Constants.storage.dp=new F(e,{isMobile:!0,autoClose:!0,dateFormat:"dd/MM/yyyy",buttons:["today","clear"],locale:i(),startDate:s,maxDate:s,onSelect:function(e){e.date,e.formattedDate;e.datepicker.$el.dispatchEvent(new Event("change"))}})}}}(),(e=document.querySelectorAll(".rgbcode-authform-pass-toggle"))&&e.forEach((function(e){e.addEventListener("click",(function(t){e.classList.toggle("rgbcode-active");var i=e.previousElementSibling;"password"===i.type?i.type="text":i.type="password"}))})),function(){var e=document.querySelector("#rgbcode-deposit");if(e){var t=e.querySelector("#rgbcode-authform-deposit-country"),i=e.querySelector(".js-select-list-current");t&&t.addEventListener("change",(function(){var e=t.options[t.selectedIndex];i.innerHTML='<img src="'.concat(f.Constants.imgFlagsPath).concat(e.value.toLowerCase(),'.svg" alt=""><span>').concat(e.label,"</span>")}))}}(),new B,function(){var e=document.querySelectorAll(".js-select-list");if(!e.length)return null;var t,i=T(e);try{var n=function(){var e=t.value,i=e.querySelector(".js-select-list-current"),n=e.querySelector(".js-select-list-select"),s=e.querySelector(".js-select-list-list");if(!i||!n||!s)return"continue";var r=Array.from(n.options);if(!r.length)return"continue";var a=document.createElement("input");a.classList.add("rgbcode-authform-select__search"),a.type="search",a.autocomplete="off",a.role="textbox",s.appendChild(a);var o=function(){var e=n.selectedOptions[0];i.innerHTML='<img src="'.concat(f.Constants.imgFlagsPath).concat(e.value.toLowerCase(),'.svg" alt=""><span>').concat(e.label,"</span>")};o();var l=document.createElement("ul");l.classList.add("select-list__list");var c=document.createDocumentFragment();r.forEach((function(e){var t=document.createElement("li");t.classList.add("select-list__item"),t.textContent=e.label,c.appendChild(t)})),l.appendChild(c),s.appendChild(l);var h=l.querySelectorAll(".select-list__item");l.addEventListener("click",(function(t){var i=t.target.closest(".select-list__item");if(i){var s=r.find((function(e){return e.label===i.textContent}));s&&(s.selected=!0,n.dispatchEvent(new Event("change")),o(),e.classList.remove("rgbcode-active"))}})),i.addEventListener("click",(function(){e.classList.toggle("rgbcode-active")})),document.addEventListener("click",(function(t){e.contains(t.target)||e.classList.remove("rgbcode-active")})),a.addEventListener("input",(function(e){var t,i=e.target.value.toLowerCase(),n=T(h);try{for(n.s();!(t=n.n()).done;){var s=t.value,r=s.textContent.toLowerCase();s.classList.toggle(f.Constants.hideClass,!r.includes(i))}}catch(e){n.e(e)}finally{n.f()}}))};for(i.s();!(t=i.n()).done;)n()}catch(e){i.e(e)}finally{i.f()}}(),function(){var e,t=document.querySelector("#rgbcode-deposit .rgbcode-authform-form");if(t){var i=null!==(e=t.dataset.user)&&void 0!==e?e:"";if(i){var n=JSON.parse(i);!function(){for(var e in n){var t=n[e];if(t)switch(e){case"email":f.Constants.storage.clientEmail=t}}}()}}}(),new Q(n)}}))}]);